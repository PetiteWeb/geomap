/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,r={9167:e=>{function t(e){if(e=Object.assign({},e),!(this instanceof t))throw new Error("MapboxLanguage needs to be called with the new keyword");this.setLanguage=this.setLanguage.bind(this),this._initialStyleUpdate=this._initialStyleUpdate.bind(this),this._defaultLanguage=e.defaultLanguage,this._isLanguageField=e.languageField||/^name_/,this._getLanguageField=e.getLanguageField||function(e){return"mul"===e?"name":`name_${e}`},this._languageSource=e.languageSource||null,this._languageTransform=e.languageTransform,this._excludedLayerIds=e.excludedLayerIds||[],this.supportedLanguages=e.supportedLanguages||["ar","de","en","es","fr","it","ja","ko","mul","pt","ru","vi","zh-Hans","zh-Hant"]}const r=/^\{name/;function n(e,t){const n=Array.isArray(t)&&"get"===t[0];return n&&r.test(t[1])&&console.warn("This plugin no longer supports the use of token syntax (e.g. {name}). Please use a get expression. See https://docs.mapbox.com/mapbox-gl-js/style-spec/expressions/ for more details."),n&&e.test(t[1])}function o(e,t,r){if(Array.isArray(t))for(let i=1;i<t.length;i++)Array.isArray(t[i])&&(n(e,t[i])&&(t[i][1]=r),o(e,t[i],r))}function i(e,t,r){if(n(e,t)&&(t[1]=r),o(e,t,r),"get"===t[0]&&"name"===t[1]){const e=t.slice();t=["coalesce",["get",r],e]}return t}t.prototype.setLanguage=function(e,t){if(this.supportedLanguages.indexOf(t)<0)throw new Error(`Language ${t} is not supported`);const r=this._languageSource||function(e){const t=Object.keys(e.sources).filter((t=>{const r=e.sources[t].url;return r&&r.indexOf("mapbox.mapbox-streets-v8")>-1||/mapbox-streets-v[1-9][1-9]/.test(r)}));if(!t.length)throw new Error('If using MapboxLanguage with a Mapbox style, the style must be based on vector tile version 8, e.g. "streets-v11"');return t[0]}(e);if(!r)return e;const n=this._getLanguageField(t),o=this._isLanguageField,l=this._excludedLayerIds,a=e.layers.map((e=>e.source===r?function(e,t,r,n){return t.layout&&t.layout["text-field"]&&-1===n.indexOf(t.id)?Object.assign({},t,{layout:Object.assign({},t.layout,{"text-field":i(e,t.layout["text-field"],r)})}):t}(o,e,n,l):e)),s=Object.assign({},e,{layers:a});return this._languageTransform?this._languageTransform(s,t):s},t.prototype._initialStyleUpdate=function(){const e=this._map.getStyle(),t=this._defaultLanguage||function(e){const t=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage,r=t&&t.split("-");let n=t;return r.length>1&&(n=r[0]),e.indexOf(n)>-1?n:null}(this.supportedLanguages);this._map.setStyle(this.setLanguage(e,t))},t.prototype.onAdd=function(e){return this._map=e,this._map.on("style.load",this._initialStyleUpdate),this._container=document.createElement("div"),this._container},t.prototype.onRemove=function(){this._map.off("style.load",this._initialStyleUpdate),this._map=void 0},void 0!==e.exports?e.exports=t:window.MapboxLanguage=t},5913:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1208)),i=n(r(3737)),l=n(r(1013)),a=r(4102),s=r(611);t.default=function(e,t,r){void 0===r&&(r={});for(var n=s.getGeom(e).coordinates,c=0,u=0;u<n.length&&!(t>=c&&u===n.length-1);u++){if(c>=t){var f=t-c;if(f){var p=o.default(n[u],n[u-1])-180;return i.default(n[u],f,p,r)}return a.point(n[u])}c+=l.default(n[u],n[u+1],r)}return a.point(n[n.length-1])}},8517:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1208)),i=r(4102),l=n(r(2054));t.default=function(e,t,r,n){if(void 0===n&&(n={}),!i.isObject(n))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!t)throw new Error("midPoint is required");if(!r)throw new Error("endPoint is required");var a=e,s=t,c=r,u=i.bearingToAzimuth(!0!==n.mercator?o.default(a,s):l.default(a,s)),f=i.bearingToAzimuth(!0!==n.mercator?o.default(c,s):l.default(c,s)),p=Math.abs(u-f);return!0===n.explementary?360-p:p}},1070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1540),o=6378137;function i(e){var t=0;if(e&&e.length>0){t+=Math.abs(l(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(l(e[r]))}return t}function l(e){var t,r,n,i,l,s,c=0,u=e.length;if(u>2){for(s=0;s<u;s++)s===u-2?(n=u-2,i=u-1,l=0):s===u-1?(n=u-1,i=0,l=1):(n=s,i=s+1,l=s+2),t=e[n],r=e[i],c+=(a(e[l][0])-a(t[0]))*Math.sin(a(r[1]));c=c*o*o/2}return c}function a(e){return e*Math.PI/180}t.default=function(e){return n.geomReduce(e,(function(e,t){return e+function(e){var t,r=0;switch(e.type){case"Polygon":return i(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=i(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)}),0)}},173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102),o=r(611),i=r(1383);function l(e,t){for(var r=[],n=0,o=e;n<o.length;n++){var l=o[n],a=i.polygonclip(l,t);a.length>0&&(a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]||a.push(a[0]),a.length>=4&&r.push(a))}return r}t.default=function(e,t){var r=o.getGeom(e),a=r.type,s="Feature"===e.type?e.properties:{},c=r.coordinates;switch(a){case"LineString":case"MultiLineString":var u=[];return"LineString"===a&&(c=[c]),c.forEach((function(e){i.lineclip(e,t,u)})),1===u.length?n.lineString(u[0],s):n.multiLineString(u,s);case"Polygon":return n.polygon(l(c,t),s);case"MultiPolygon":return n.multiPolygon(c.map((function(e){return l(e,t)})),s);default:throw new Error("geometry "+a+" not supported")}}},1383:(e,t)=>{"use strict";function r(e,t,r,n){return 8&r?[e[0]+(t[0]-e[0])*(n[3]-e[1])/(t[1]-e[1]),n[3]]:4&r?[e[0]+(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1]),n[1]]:2&r?[n[2],e[1]+(t[1]-e[1])*(n[2]-e[0])/(t[0]-e[0])]:1&r?[n[0],e[1]+(t[1]-e[1])*(n[0]-e[0])/(t[0]-e[0])]:null}function n(e,t){var r=0;return e[0]<t[0]?r|=1:e[0]>t[2]&&(r|=2),e[1]<t[1]?r|=4:e[1]>t[3]&&(r|=8),r}Object.defineProperty(t,"__esModule",{value:!0}),t.lineclip=function(e,t,o){var i,l,a,s,c,u=e.length,f=n(e[0],t),p=[];for(o||(o=[]),i=1;i<u;i++){for(s=e[i-1],l=a=n(c=e[i],t);;){if(!(f|l)){p.push(s),l!==a?(p.push(c),i<u-1&&(o.push(p),p=[])):i===u-1&&p.push(c);break}if(f&l)break;f?f=n(s=r(s,c,f,t),t):l=n(c=r(s,c,l,t),t)}f=a}return p.length&&o.push(p),o},t.polygonclip=function(e,t){var o,i,l,a,s,c,u;for(i=1;i<=8;i*=2){for(o=[],a=!(n(l=e[e.length-1],t)&i),s=0;s<e.length;s++)(u=!(n(c=e[s],t)&i))!==a&&o.push(r(l,c,i,t)),u&&o.push(c),l=c,a=u;if(!(e=o).length)break}return o}},3652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102);t.default=function(e,t){void 0===t&&(t={});var r=Number(e[0]),o=Number(e[1]),i=Number(e[2]),l=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[r,o],s=[r,l],c=[i,l],u=[i,o];return n.polygon([[a,u,c,s,a]],t.properties,{bbox:e,id:t.id})}},9705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1540);function o(e){var t=[1/0,1/0,-1/0,-1/0];return n.coordEach(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}o.default=o,t.default=o},1208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102),o=r(611);t.default=function e(t,r,i){if(void 0===i&&(i={}),!0===i.final)return function(t,r){var n=e(r,t);return(n+180)%360}(t,r);var l=o.getCoord(t),a=o.getCoord(r),s=n.degreesToRadians(l[0]),c=n.degreesToRadians(a[0]),u=n.degreesToRadians(l[1]),f=n.degreesToRadians(a[1]),p=Math.sin(c-s)*Math.cos(f),h=Math.cos(u)*Math.sin(f)-Math.sin(u)*Math.cos(f)*Math.cos(c-s);return n.radiansToDegrees(Math.atan2(p,h))}},7478:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4102),i=r(611),l=n(r(915));t.default=function(e,t){void 0===t&&(t={});for(var r=t.resolution||1e4,n=t.sharpness||.85,a=[],s=i.getGeom(e).coordinates.map((function(e){return{x:e[0],y:e[1]}})),c=new l.default({duration:r,points:s,sharpness:n}),u=function(e){var t=c.pos(e);Math.floor(e/100)%2==0&&a.push([t.x,t.y])},f=0;f<c.duration;f+=10)u(f);return u(c.duration),o.lineString(a,t.properties)}},915:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var r=this.points[t],n=this.points[t+1];this.centers.push({x:(r.x+n.x)/2,y:(r.y+n.y)/2,z:(r.z+n.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){var o=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,i=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,l=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+i),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+l)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+i),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+l)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return e.prototype.cacheSteps=function(e){var t=[],r=this.pos(0);t.push(0);for(var n=0;n<this.duration;n+=10){var o=this.pos(n);Math.sqrt((o.x-r.x)*(o.x-r.x)+(o.y-r.y)*(o.y-r.y)+(o.z-r.z)*(o.z-r.z))>e&&(t.push(n),r=o)}return t},e.prototype.vector=function(e){var t=this.pos(e+10),r=this.pos(e-10);return{angle:180*Math.atan2(t.y-r.y,t.x-r.x)/3.14,speed:Math.sqrt((r.x-t.x)*(r.x-t.x)+(r.y-t.y)*(r.y-t.y)+(r.z-t.z)*(r.z-t.z))}},e.prototype.pos=function(e){var t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var r=t/this.duration;if(r>=1)return this.points[this.length-1];var n=Math.floor((this.points.length-1)*r);return function(e,t,r,n,o){var i=function(e){var t=e*e;return[t*e,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}(e);return{x:o.x*i[0]+n.x*i[1]+r.x*i[2]+t.x*i[3],y:o.y*i[0]+n.y*i[1]+r.y*i[2]+t.y*i[3],z:o.z*i[0]+n.z*i[1]+r.z*i[2]+t.z*i[3]}}((this.length-1)*r-n,this.points[n],this.controls[n][1],this.controls[n+1][0],this.points[n+1])},e}();t.default=r},3809:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(611);t.default=function(e){for(var t,r,o=n.getCoords(e),i=0,l=1;l<o.length;)t=r||o[0],i+=((r=o[l])[0]-t[0])*(r[1]+t[1]),l++;return i>0}},4766:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9705)),i=n(r(8147)),l=n(r(2793)),a=r(611);function s(e,t){var r,n=!1;for(r=0;r<e.coordinates.length;r++)if(v(e.coordinates[r],t.coordinates)){n=!0;break}return n}function c(e,t){for(var r=0,n=t.coordinates;r<n.length;r++){for(var o=n[r],i=!1,l=0,a=e.coordinates;l<a.length;l++)if(v(o,a[l])){i=!0;break}if(!i)return!1}return!0}function u(e,t){for(var r=!1,n=0,o=t.coordinates;n<o.length;n++){var i=o[n];if(l.default(i,e,{ignoreEndVertices:!0})&&(r=!0),!l.default(i,e))return!1}return!!r}function f(e,t){for(var r=0,n=t.coordinates;r<n.length;r++){var o=n[r];if(!i.default(o,e,{ignoreBoundary:!0}))return!1}return!0}function p(e,t){for(var r=!1,n=0,o=t.coordinates;n<o.length;n++){var i=o[n];if(l.default({type:"Point",coordinates:i},e,{ignoreEndVertices:!0})&&(r=!0),!l.default({type:"Point",coordinates:i},e,{ignoreEndVertices:!1}))return!1}return r}function h(e,t){var r=!1,n=0;if(!m(o.default(e),o.default(t)))return!1;for(;n<t.coordinates.length-1;n++){var l=d(t.coordinates[n],t.coordinates[n+1]);if(i.default({type:"Point",coordinates:l},e,{ignoreBoundary:!0})){r=!0;break}}return r}function g(e,t){if("Feature"===e.type&&null===e.geometry)return!1;if("Feature"===t.type&&null===t.geometry)return!1;if(!m(o.default(e),o.default(t)))return!1;for(var r=0,n=a.getGeom(t).coordinates;r<n.length;r++)for(var l=0,s=n[r];l<s.length;l++){var c=s[l];if(!i.default(c,e))return!1}return!0}function m(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function v(e,t){return e[0]===t[0]&&e[1]===t[1]}function d(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}t.default=function(e,t){var r=a.getGeom(e),n=a.getGeom(t),o=r.type,m=n.type,d=r.coordinates,y=n.coordinates;switch(o){case"Point":if("Point"===m)return v(d,y);throw new Error("feature2 "+m+" geometry not supported");case"MultiPoint":switch(m){case"Point":return s(r,n);case"MultiPoint":return c(r,n);default:throw new Error("feature2 "+m+" geometry not supported")}case"LineString":switch(m){case"Point":return l.default(n,r,{ignoreEndVertices:!0});case"LineString":return p(r,n);case"MultiPoint":return u(r,n);default:throw new Error("feature2 "+m+" geometry not supported")}case"Polygon":switch(m){case"Point":return i.default(n,r,{ignoreBoundary:!0});case"LineString":return h(r,n);case"Polygon":return g(r,n);case"MultiPoint":return f(r,n);default:throw new Error("feature2 "+m+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}},t.isPointInMultiPoint=s,t.isMultiPointInMultiPoint=c,t.isMultiPointOnLine=u,t.isMultiPointInPoly=f,t.isLineOnLine=p,t.isLineInPoly=h,t.isPolyInPoly=g,t.doBBoxOverlap=m,t.compareCoords=v,t.getMidpoint=d},7656:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(3663)),i=r(7383),l=n(r(8147)),a=r(611),s=r(4102);function c(e,t){for(var r=!1,n=!1,o=e.coordinates.length,i=0;i<o&&!r&&!n;){for(var l=0;l<t.coordinates.length-1;l++){var a=!0;0!==l&&l!==t.coordinates.length-2||(a=!1),p(t.coordinates[l],t.coordinates[l+1],e.coordinates[i],a)?r=!0:n=!0}i++}return r&&n}function u(e,t){var r=i.polygonToLine(t);return o.default(e,r).features.length>0}function f(e,t){for(var r=!1,n=!1,o=e.coordinates.length,i=0;i<o&&(!r||!n);i++)l.default(s.point(e.coordinates[i]),t)?r=!0:n=!0;return n&&r}function p(e,t,r,n){var o=r[0]-e[0],i=r[1]-e[1],l=t[0]-e[0],a=t[1]-e[1];return 0==o*a-i*l&&(n?Math.abs(l)>=Math.abs(a)?l>0?e[0]<=r[0]&&r[0]<=t[0]:t[0]<=r[0]&&r[0]<=e[0]:a>0?e[1]<=r[1]&&r[1]<=t[1]:t[1]<=r[1]&&r[1]<=e[1]:Math.abs(l)>=Math.abs(a)?l>0?e[0]<r[0]&&r[0]<t[0]:t[0]<r[0]&&r[0]<e[0]:a>0?e[1]<r[1]&&r[1]<t[1]:t[1]<r[1]&&r[1]<e[1])}t.default=function(e,t){var r=a.getGeom(e),n=a.getGeom(t),i=r.type,l=n.type;switch(i){case"MultiPoint":switch(l){case"LineString":return c(r,n);case"Polygon":return f(r,n);default:throw new Error("feature2 "+l+" geometry not supported")}case"LineString":switch(l){case"MultiPoint":return c(n,r);case"LineString":return function(e,t){if(o.default(e,t).features.length>0)for(var r=0;r<e.coordinates.length-1;r++)for(var n=0;n<t.coordinates.length-1;n++){var i=!0;if(0!==n&&n!==t.coordinates.length-2||(i=!1),p(e.coordinates[r],e.coordinates[r+1],t.coordinates[n],i))return!0}return!1}(r,n);case"Polygon":return u(r,n);default:throw new Error("feature2 "+l+" geometry not supported")}case"Polygon":switch(l){case"MultiPoint":return f(n,r);case"LineString":return u(n,r);default:throw new Error("feature2 "+l+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}},5883:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(8147)),i=n(r(3663)),l=r(1540),a=n(r(7383));function s(e,t){for(var r=0;r<e.coordinates.length-1;r++)if(u(e.coordinates[r],e.coordinates[r+1],t.coordinates))return!0;return!1}function c(e,t){for(var r=0,n=t.coordinates;r<n.length;r++){var l=n[r];if(o.default(l,e))return!0}return i.default(t,a.default(e)).features.length>0}function u(e,t,r){var n=r[0]-e[0],o=r[1]-e[1],i=t[0]-e[0],l=t[1]-e[1];return 0==n*l-o*i&&(Math.abs(i)>=Math.abs(l)?i>0?e[0]<=r[0]&&r[0]<=t[0]:t[0]<=r[0]&&r[0]<=e[0]:l>0?e[1]<=r[1]&&r[1]<=t[1]:t[1]<=r[1]&&r[1]<=e[1])}t.default=function(e,t){var r=!0;return l.flattenEach(e,(function(e){l.flattenEach(t,(function(t){if(!1===r)return!1;r=function(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return l=e.coordinates,u=t.coordinates,!(l[0]===u[0]&&l[1]===u[1]);case"LineString":return!s(t,e);case"Polygon":return!o.default(e,t)}break;case"LineString":switch(t.type){case"Point":return!s(e,t);case"LineString":return r=e,n=t,!(i.default(r,n).features.length>0);case"Polygon":return!c(t,e)}break;case"Polygon":switch(t.type){case"Point":return!o.default(t,e);case"LineString":return!c(e,t);case"Polygon":return!function(e,t){for(var r=0,n=e.coordinates[0];r<n.length;r++){var l=n[r];if(o.default(l,t))return!0}for(var s=0,c=t.coordinates[0];s<c.length;s++){var u=c[s];if(o.default(u,e))return!0}return i.default(a.default(e),a.default(t)).features.length>0}(t,e)}}var r,n,l,u;return!1}(e.geometry,t.geometry)}))})),r}},9482:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9657)),i=n(r(1435)),l=r(611);t.default=function(e,t){return l.getGeom(e).type===l.getGeom(t).type&&new o.default({precision:6}).compare(i.default(e),i.default(t))}},5745:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(5883)),i=r(1540);t.default=function(e,t){var r=!1;return i.flattenEach(e,(function(e){i.flattenEach(t,(function(t){if(!0===r)return!0;r=!o.default(e.geometry,t.geometry)}))})),r}},7612:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1540),i=r(611),l=n(r(273)),a=n(r(3663)),s=n(r(9657));t.default=function(e,t){var r=i.getGeom(e),n=i.getGeom(t),c=r.type,u=n.type;if("MultiPoint"===c&&"MultiPoint"!==u||("LineString"===c||"MultiLineString"===c)&&"LineString"!==u&&"MultiLineString"!==u||("Polygon"===c||"MultiPolygon"===c)&&"Polygon"!==u&&"MultiPolygon"!==u)throw new Error("features must be of the same type");if("Point"===c)throw new Error("Point geometry not supported");if(new s.default({precision:6}).compare(e,t))return!1;var f=0;switch(c){case"MultiPoint":for(var p=0;p<r.coordinates.length;p++)for(var h=0;h<n.coordinates.length;h++){var g=r.coordinates[p],m=n.coordinates[h];if(g[0]===m[0]&&g[1]===m[1])return!0}return!1;case"LineString":case"MultiLineString":o.segmentEach(e,(function(e){o.segmentEach(t,(function(t){l.default(e,t).features.length&&f++}))}));break;case"Polygon":case"MultiPolygon":o.segmentEach(e,(function(e){o.segmentEach(t,(function(t){a.default(e,t).features.length&&f++}))}))}return f>0}},4840:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1435)),i=n(r(4590)),l=n(r(2054)),a=r(4102);function s(e,t){return a.bearingToAzimuth(l.default(e[0],e[1]))===a.bearingToAzimuth(l.default(t[0],t[1]))}function c(e,t){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+t)}t.default=function(e,t){if(!e)throw new Error("line1 is required");if(!t)throw new Error("line2 is required");if("LineString"!==c(e,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==c(t,"line2"))throw new Error("line2 must be a LineString");for(var r=i.default(o.default(e)).features,n=i.default(o.default(t)).features,l=0;l<r.length;l++){var a=r[l].geometry.coordinates;if(!n[l])break;if(!s(a,n[l].geometry.coordinates))return!1}return!0}},8147:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(611);function o(e,t,r){var n=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var o=0,i=t.length-1;o<t.length;i=o++){var l=t[o][0],a=t[o][1],s=t[i][0],c=t[i][1];if(e[1]*(l-s)+a*(s-e[0])+c*(e[0]-l)==0&&(l-e[0])*(s-e[0])<=0&&(a-e[1])*(c-e[1])<=0)return!r;a>e[1]!=c>e[1]&&e[0]<(s-l)*(e[1]-a)/(c-a)+l&&(n=!n)}return n}t.default=function(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var i=n.getCoord(e),l=n.getGeom(t),a=l.type,s=t.bbox,c=l.coordinates;if(s&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(i,s))return!1;"Polygon"===a&&(c=[c]);for(var u=!1,f=0;f<c.length&&!u;f++)if(o(i,c[f][0],r.ignoreBoundary)){for(var p=!1,h=1;h<c[f].length&&!p;)o(i,c[f][h],!r.ignoreBoundary)&&(p=!0),h++;p||(u=!0)}return u}},2793:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(611);function o(e,t,r,n,o){var i=r[0],l=r[1],a=e[0],s=e[1],c=t[0],u=t[1],f=c-a,p=u-s,h=(r[0]-a)*p-(r[1]-s)*f;if(null!==o){if(Math.abs(h)>o)return!1}else if(0!==h)return!1;return n?"start"===n?Math.abs(f)>=Math.abs(p)?f>0?a<i&&i<=c:c<=i&&i<a:p>0?s<l&&l<=u:u<=l&&l<s:"end"===n?Math.abs(f)>=Math.abs(p)?f>0?a<=i&&i<c:c<i&&i<=a:p>0?s<=l&&l<u:u<l&&l<=s:"both"===n&&(Math.abs(f)>=Math.abs(p)?f>0?a<i&&i<c:c<i&&i<a:p>0?s<l&&l<u:u<l&&l<s):Math.abs(f)>=Math.abs(p)?f>0?a<=i&&i<=c:c<=i&&i<=a:p>0?s<=l&&l<=u:u<=l&&l<=s}t.default=function(e,t,r){void 0===r&&(r={});for(var i=n.getCoord(e),l=n.getCoords(t),a=0;a<l.length-1;a++){var s=!1;if(r.ignoreEndVertices&&(0===a&&(s="start"),a===l.length-2&&(s="end"),0===a&&a+1===l.length-1&&(s="both")),o(l[a],l[a+1],i,s,void 0===r.epsilon?null:r.epsilon))return!0}return!1}},2052:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9705)),i=n(r(2793)),l=n(r(8147)),a=r(611);function s(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function c(e,t){return e[0]===t[0]&&e[1]===t[1]}t.default=function(e,t){var r=a.getGeom(e),n=a.getGeom(t),u=r.type,f=n.type;switch(u){case"Point":switch(f){case"MultiPoint":return function(e,t){var r,n=!1;for(r=0;r<t.coordinates.length;r++)if(c(t.coordinates[r],e.coordinates)){n=!0;break}return n}(r,n);case"LineString":return i.default(r,n,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return l.default(r,n,{ignoreBoundary:!0});default:throw new Error("feature2 "+f+" geometry not supported")}case"MultiPoint":switch(f){case"MultiPoint":return function(e,t){for(var r=0;r<e.coordinates.length;r++){for(var n=!1,o=0;o<t.coordinates.length;o++)c(e.coordinates[r],t.coordinates[o])&&(n=!0);if(!n)return!1}return!0}(r,n);case"LineString":return function(e,t){for(var r=!1,n=0;n<e.coordinates.length;n++){if(!i.default(e.coordinates[n],t))return!1;r||(r=i.default(e.coordinates[n],t,{ignoreEndVertices:!0}))}return r}(r,n);case"Polygon":case"MultiPolygon":return function(e,t){for(var r=!0,n=!1,o=0;o<e.coordinates.length;o++){if(!(n=l.default(e.coordinates[1],t))){r=!1;break}n=l.default(e.coordinates[1],t,{ignoreBoundary:!0})}return r&&n}(r,n);default:throw new Error("feature2 "+f+" geometry not supported")}case"LineString":switch(f){case"LineString":return function(e,t){for(var r=0;r<e.coordinates.length;r++)if(!i.default(e.coordinates[r],t))return!1;return!0}(r,n);case"Polygon":case"MultiPolygon":return function(e,t){var r,n;if(!s(o.default(t),o.default(e)))return!1;for(var i=!1,a=0;a<e.coordinates.length-1;a++){if(!l.default(e.coordinates[a],t))return!1;if(i||(i=l.default(e.coordinates[a],t,{ignoreBoundary:!0})),!i){var c=(r=e.coordinates[a],n=e.coordinates[a+1],[(r[0]+n[0])/2,(r[1]+n[1])/2]);i=l.default(c,t,{ignoreBoundary:!0})}}return i}(r,n);default:throw new Error("feature2 "+f+" geometry not supported")}case"Polygon":switch(f){case"Polygon":case"MultiPolygon":return function(e,t){var r=o.default(e);if(!s(o.default(t),r))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!l.default(e.coordinates[0][n],t))return!1;return!0}(r,n);default:throw new Error("feature2 "+f+" geometry not supported")}default:throw new Error("feature1 "+u+" geometry not supported")}}},5950:(e,t,r)=>{"use strict";var n=r(8230),o=r(675),i=r(1540),l=r(1688),a=r(4102);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=s(n);function u(e,t,r){var n=(r=r||{}).units||"kilometers",o=r.steps||8;if(!e)throw new Error("geojson is required");if("object"!=typeof r)throw new Error("options must be an object");if("number"!=typeof o)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(o<=0)throw new Error("steps must be greater than 0");var l=[];switch(e.type){case"GeometryCollection":return i.geomEach(e,(function(e){var r=f(e,t,n,o);r&&l.push(r)})),a.featureCollection(l);case"FeatureCollection":return i.featureEach(e,(function(e){var r=f(e,t,n,o);r&&i.featureEach(r,(function(e){e&&l.push(e)}))})),a.featureCollection(l)}return f(e,t,n,o)}function f(e,t,r,n){var s=e.properties||{},u="Feature"===e.type?e.geometry:e;if("GeometryCollection"===u.type){var m=[];return i.geomEach(e,(function(e){var o=f(e,t,r,n);o&&m.push(o)})),a.featureCollection(m)}var v=function(e){var t=c.default(e).geometry.coordinates,r=[-t[0],-t[1]];return l.geoAzimuthalEquidistant().rotate(r).scale(a.earthRadius)}(u),d={type:u.type,coordinates:h(u.coordinates,v)},y=(new o.GeoJSONReader).read(d),b=a.radiansToLength(a.lengthToRadians(t,r),"meters"),w=o.BufferOp.bufferOp(y,b,n);if(!p((w=(new o.GeoJSONWriter).write(w)).coordinates)){var O={type:w.type,coordinates:g(w.coordinates,v)};return a.feature(O,s)}}function p(e){return Array.isArray(e[0])?p(e[0]):isNaN(e[0])}function h(e,t){return"object"!=typeof e[0]?t(e):e.map((function(e){return h(e,t)}))}function g(e,t){return"object"!=typeof e[0]?t.invert(e):e.map((function(e){return g(e,t)}))}e.exports=u,e.exports.default=u},6320:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1540),o=r(4102);t.default=function(e,t){void 0===t&&(t={});var r=0,i=0,l=0;return n.geomEach(e,(function(e,a,s){var c=t.weight?null==s?void 0:s[t.weight]:void 0;if(c=null==c?1:c,!o.isNumber(c))throw new Error("weight value must be a number for feature index "+a);(c=Number(c))>0&&n.coordEach(e,(function(e){r+=e[0]*c,i+=e[1]*c,l+=c}))})),o.point([r/l,i/l],t.properties,t)}},2935:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(6320)),i=n(r(1013)),l=n(r(6338)),a=r(4102),s=r(1540);function c(e,t,r,n,o){var l=n.tolerance||.001,u=0,f=0,p=0,h=0;if(s.featureEach(r,(function(t){var r,n=null===(r=t.properties)||void 0===r?void 0:r.weight,o=null==n?1:n;if(o=Number(o),!a.isNumber(o))throw new Error("weight value must be a number");if(o>0){h+=1;var l=o*i.default(t,e);0===l&&(l=1);var s=o/l;u+=t.geometry.coordinates[0]*s,f+=t.geometry.coordinates[1]*s,p+=s}})),h<1)throw new Error("no features to measure");var g=u/p,m=f/p;return 1===h||0===o||Math.abs(g-t[0])<l&&Math.abs(m-t[1])<l?a.point([g,m],{medianCandidates:n.medianCandidates}):(n.medianCandidates.push([g,m]),c([g,m],e,r,n,o-1))}t.default=function(e,t){if(void 0===t&&(t={}),t=t||{},!a.isObject(t))throw new Error("options is invalid");var r=t.counter||10;if(!a.isNumber(r))throw new Error("counter must be a number");var n=t.weight,i=o.default(e,{weight:t.weight}),u=a.featureCollection([]);s.featureEach(e,(function(e){var t;u.features.push(l.default(e,{properties:{weight:null===(t=e.properties)||void 0===t?void 0:t[n]}}))}));var f={tolerance:t.tolerance,medianCandidates:[]};return c(i.geometry.coordinates,[0,0],u,f,r)}},5084:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(7382)),i=n(r(6338)),l=r(4102),a=r(611),s=r(1540);t.default=function e(t,r){switch(void 0===r&&(r={}),a.getType(t)){case"Point":return l.point(a.getCoord(t),r.properties);case"Polygon":var n=[];s.coordEach(t,(function(e){n.push(e)}));var c,u,f,p,h,g,m,v,d=i.default(t,{properties:r.properties}),y=d.geometry.coordinates,b=0,w=0,O=0,x=n.map((function(e){return[e[0]-y[0],e[1]-y[1]]}));for(c=0;c<n.length-1;c++)p=(u=x[c])[0],g=u[1],h=(f=x[c+1])[0],O+=v=p*(m=f[1])-h*g,b+=(p+h)*v,w+=(g+m)*v;if(0===O)return d;var _=1/(.5*O*6);return l.point([y[0]+_*b,y[1]+_*w],r.properties);default:var z=o.default(t);return z?e(z,{properties:r.properties}):i.default(t,{properties:r.properties})}}},8230:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9705)),i=r(4102);t.default=function(e,t){void 0===t&&(t={});var r=o.default(e),n=(r[0]+r[2])/2,l=(r[1]+r[3])/2;return i.point([n,l],t.properties,t)}},6338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1540),o=r(4102);t.default=function(e,t){void 0===t&&(t={});var r=0,i=0,l=0;return n.coordEach(e,(function(e){r+=e[0],i+=e[1],l++}),!0),o.point([r/l,i/l],t.properties)}},265:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(3737)),i=r(4102);t.default=function(e,t,r){void 0===r&&(r={});for(var n=r.steps||64,l=r.properties?r.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},a=[],s=0;s<n;s++)a.push(o.default(e,t,-360*s/n,r).geometry.coordinates);return a.push(a[0]),i.polygon([a],l)}},1435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102),o=r(611);function i(e){var t=o.getCoords(e);if(2===t.length&&!l(t[0],t[1]))return t;var r=[],n=t.length-1,i=r.length;r.push(t[0]);for(var s=1;s<n;s++){var c=r[r.length-1];t[s][0]===c[0]&&t[s][1]===c[1]||(r.push(t[s]),(i=r.length)>2&&a(r[i-3],r[i-1],r[i-2])&&r.splice(r.length-2,1))}if(r.push(t[t.length-1]),i=r.length,l(t[0],t[t.length-1])&&i<4)throw new Error("invalid polygon");return a(r[i-3],r[i-1],r[i-2])&&r.splice(r.length-2,1),r}function l(e,t){return e[0]===t[0]&&e[1]===t[1]}function a(e,t,r){var n=r[0],o=r[1],i=e[0],l=e[1],a=t[0],s=t[1],c=a-i,u=s-l;return 0==(n-i)*u-(o-l)*c&&(Math.abs(c)>=Math.abs(u)?c>0?i<=n&&n<=a:a<=n&&n<=i:u>0?l<=o&&o<=s:s<=o&&o<=l)}t.default=function(e,t){void 0===t&&(t={});var r="object"==typeof t?t.mutate:t;if(!e)throw new Error("geojson is required");var l=o.getType(e),a=[];switch(l){case"LineString":a=i(e);break;case"MultiLineString":case"Polygon":o.getCoords(e).forEach((function(e){a.push(i(e))}));break;case"MultiPolygon":o.getCoords(e).forEach((function(e){var t=[];e.forEach((function(e){t.push(i(e))})),a.push(t)}));break;case"Point":return e;case"MultiPoint":var s={};o.getCoords(e).forEach((function(e){var t=e.join("-");Object.prototype.hasOwnProperty.call(s,t)||(a.push(e),s[t]=!0)}));break;default:throw new Error(l+" geometry not supported")}return e.coordinates?!0===r?(e.coordinates=a,e):{type:l,coordinates:a}:!0===r?(e.geometry.coordinates=a,e):n.feature({type:l,coordinates:a},e.properties,{bbox:e.bbox,id:e.id})}},6565:(e,t)=>{"use strict";function r(e){var t={type:"Feature"};return Object.keys(e).forEach((function(r){switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=n(e.properties),t.geometry=o(e.geometry),t}function n(e){var t={};return e?(Object.keys(e).forEach((function(r){var o=e[r];"object"==typeof o?null===o?t[r]=null:Array.isArray(o)?t[r]=o.map((function(e){return e})):t[r]=n(o):t[r]=o})),t):t}function o(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return o(e)})),t):(t.coordinates=i(e.coordinates),t)}function i(e){var t=e;return"object"!=typeof t[0]?t.slice():t.map((function(e){return i(e)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return r(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(r){switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((function(e){return r(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return o(e);default:throw new Error("unknown GeoJSON type")}}},1495:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(6565)),i=n(r(1013)),l=r(1540),a=r(4102),s=n(r(2606));t.default=function(e,t,r){void 0===r&&(r={}),!0!==r.mutate&&(e=o.default(e)),r.minPoints=r.minPoints||3;var n=new s.default.DBSCAN,c=n.run(l.coordAll(e),a.convertLength(t,r.units),r.minPoints,i.default),u=-1;return c.forEach((function(t){u++,t.forEach((function(t){var r=e.features[t];r.properties||(r.properties={}),r.properties.cluster=u,r.properties.dbscan="core"}))})),n.noise.forEach((function(t){var r=e.features[t];r.properties||(r.properties={}),r.properties.cluster?r.properties.dbscan="edge":r.properties.dbscan="noise"})),e}},6398:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(6565)),i=r(1540),l=n(r(1160));t.default=function(e,t){void 0===t&&(t={});var r=e.features.length;t.numberOfClusters=t.numberOfClusters||Math.round(Math.sqrt(r/2)),t.numberOfClusters>r&&(t.numberOfClusters=r),!0!==t.mutate&&(e=o.default(e));var n=i.coordAll(e),a=n.slice(0,t.numberOfClusters),s=l.default(n,t.numberOfClusters,a),c={};return s.centroids.forEach((function(e,t){c[t]=e})),i.featureEach(e,(function(e,t){var r=s.idxs[t];e.properties.cluster=r,e.properties.centroid=c[r]})),e}},3140:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1540),o=r(4102);function i(e,t,r){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("property is required");for(var n=l(e,t),i=Object.keys(n),a=0;a<i.length;a++){for(var s=i[a],c=n[s],u=[],f=0;f<c.length;f++)u.push(e.features[c[f]]);r(o.featureCollection(u),s,a)}}function l(e,t){var r={};return n.featureEach(e,(function(e,n){var o=e.properties||{};if(Object.prototype.hasOwnProperty.call(o,String(t))){var i=o[t];Object.prototype.hasOwnProperty.call(r,i)?r[i].push(n):r[i]=[n]}})),r}function a(e,t){if(void 0===e)return!1;var r=typeof t;if("number"===r||"string"===r)return Object.prototype.hasOwnProperty.call(e,t);if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(!a(e,t[n]))return!1;return!0}return s(e,t)}function s(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var o=r[n];if(e[o]!==t[o])return!1}return!0}t.getCluster=function(e,t){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("filter is required");var r=[];return n.featureEach(e,(function(e){a(e.properties,t)&&r.push(e)})),o.featureCollection(r)},t.clusterEach=i,t.clusterReduce=function(e,t,r,n){var o=n;return i(e,t,(function(e,t,i){o=0===i&&void 0===n?e:r(o,e,t,i)})),o},t.createBins=l,t.applyFilter=a,t.propertiesContainsFilter=s,t.filterProperties=function(e,t){if(!t)return{};if(!t.length)return{};for(var r={},n=0;n<t.length;n++){var o=t[n];Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r}},305:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9705)),i=n(r(8147)),l=n(r(67));t.default=function(e,t,r,n){var a=l.default(6),s=t.features.map((function(e){var t;return{minX:e.geometry.coordinates[0],minY:e.geometry.coordinates[1],maxX:e.geometry.coordinates[0],maxY:e.geometry.coordinates[1],property:null===(t=e.properties)||void 0===t?void 0:t[r]}}));return a.load(s),e.features.forEach((function(e){e.properties||(e.properties={});var t=o.default(e),r=a.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}),l=[];r.forEach((function(t){i.default([t.minX,t.minY],e)&&l.push(t.property)})),e.properties[n]=l})),e}},7269:function(e){e.exports=function(){"use strict";function e(r,n,o,i,l){for(;i>o;){if(i-o>600){var a=i-o+1,s=n-o+1,c=Math.log(a),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(a-u)/a)*(s-a/2<0?-1:1);e(r,n,Math.max(o,Math.floor(n-s*u/a+f)),Math.min(i,Math.floor(n+(a-s)*u/a+f)),l)}var p=r[n],h=o,g=i;for(t(r,o,n),l(r[i],p)>0&&t(r,o,i);h<g;){for(t(r,h,g),h++,g--;l(r[h],p)<0;)h++;for(;l(r[g],p)>0;)g--}0===l(r[o],p)?t(r,o,g):t(r,++g,i),g<=n&&(o=g+1),n<=g&&(i=g-1)}}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}return function(t,n,o,i,l){e(t,n,o||0,i||t.length-1,l||r)}}()},67:(e,t,r)=>{"use strict";e.exports=o,e.exports.default=o;var n=r(7269);function o(e,t){if(!(this instanceof o))return new o(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function i(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function l(e,t){a(e,0,e.children.length,t,e)}function a(e,t,r,n,o){o||(o=m(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,l=t;l<r;l++)i=e.children[l],s(o,e.leaf?n(i):i);return o}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function f(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function p(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function g(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(e,t,r,o,i){for(var l,a=[t,r];a.length;)(r=a.pop())-(t=a.pop())<=o||(l=t+Math.ceil((r-t)/o/2)*o,n(e,l,t,r,i),a.push(t,l,l,r))}o.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!g(e,t))return r;for(var o,i,l,a,s=[];t;){for(o=0,i=t.children.length;o<i;o++)l=t.children[o],g(e,a=t.leaf?n(l):l)&&(t.leaf?r.push(l):h(e,a)?this._all(l,r):s.push(l));t=s.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!g(e,t))return!1;for(var n,o,i,l,a=[];t;){for(n=0,o=t.children.length;n<o;n++)if(i=t.children[n],g(e,l=t.leaf?r(i):i)){if(t.leaf||h(e,l))return!0;a.push(i)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var o=this.data;this.data=n,n=o}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(e,t){if(!e)return this;for(var r,n,o,l,a=this.data,s=this.toBBox(e),c=[],u=[];a||c.length;){if(a||(a=c.pop(),n=c[c.length-1],r=u.pop(),l=!0),a.leaf&&-1!==(o=i(e,a.children,t)))return a.children.splice(o,1),c.push(a),this._condense(c),this;l||a.leaf||!h(a,s)?n?(r++,a=n.children[r],l=!1):a=null:(c.push(a),u.push(r),r=0,n=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var o,i=r-t+1,a=this._maxEntries;if(i<=a)return l(o=m(e.slice(t,r+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,n-1))),(o=m([])).leaf=!1,o.height=n;var s,c,u,f,p=Math.ceil(i/a),h=p*Math.ceil(Math.sqrt(a));for(v(e,t,r,h,this.compareMinX),s=t;s<=r;s+=h)for(v(e,s,u=Math.min(s+h-1,r),p,this.compareMinY),c=s;c<=u;c+=p)f=Math.min(c+p-1,u),o.children.push(this._build(e,c,f,n-1));return l(o,this.toBBox),o},_chooseSubtree:function(e,t,r,n){for(var o,i,l,a,s,c,u,p,h,g;n.push(t),!t.leaf&&n.length-1!==r;){for(u=p=1/0,o=0,i=t.children.length;o<i;o++)s=f(l=t.children[o]),h=e,g=l,(c=(Math.max(g.maxX,h.maxX)-Math.min(g.minX,h.minX))*(Math.max(g.maxY,h.maxY)-Math.min(g.minY,h.minY))-s)<p?(p=c,u=s<u?s:u,a=l):c===p&&s<u&&(u=s,a=l);t=a||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,o=r?e:n(e),i=[],l=this._chooseSubtree(o,this.data,t,i);for(l.children.push(e),s(l,o);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(o,i,t)},_split:function(e,t){var r=e[t],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var i=this._chooseSplitIndex(r,o,n),a=m(r.children.splice(i,r.children.length-i));a.height=r.height,a.leaf=r.leaf,l(r,this.toBBox),l(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(r,a)},_splitRoot:function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,o,i,l,s,c,u,p,h,g,m,v,d,y;for(c=u=1/0,n=t;n<=r-t;n++)h=o=a(e,0,n,this.toBBox),g=i=a(e,n,r,this.toBBox),void 0,void 0,void 0,void 0,m=Math.max(h.minX,g.minX),v=Math.max(h.minY,g.minY),d=Math.min(h.maxX,g.maxX),y=Math.min(h.maxY,g.maxY),l=Math.max(0,d-m)*Math.max(0,y-v),s=f(o)+f(i),l<c?(c=l,p=n,u=s<u?s:u):l===c&&s<u&&(u=s,p=n);return p},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:c,o=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,o)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var o,i,l=this.toBBox,c=a(e,0,t,l),u=a(e,r-t,r,l),f=p(c)+p(u);for(o=t;o<r-t;o++)i=e.children[o],s(c,e.leaf?l(i):i),f+=p(c);for(o=r-t-1;o>=t;o--)i=e.children[o],s(u,e.leaf?l(i):i),f+=p(u);return f},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)s(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)0===e[r].children.length?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():l(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},8141:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102),o=r(1540);t.default=function(e){var t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return o.featureEach(e,(function(e){var r,n,o,i;switch(null===(i=e.geometry)||void 0===i?void 0:i.type){case"Point":t.MultiPoint.coordinates.push(e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"MultiPoint":(r=t.MultiPoint.coordinates).push.apply(r,e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"LineString":t.MultiLineString.coordinates.push(e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"MultiLineString":(n=t.MultiLineString.coordinates).push.apply(n,e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"Polygon":t.MultiPolygon.coordinates.push(e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties);break;case"MultiPolygon":(o=t.MultiPolygon.coordinates).push.apply(o,e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties)}})),n.featureCollection(Object.keys(t).filter((function(e){return t[e].coordinates.length})).sort().map((function(e){var r={type:e,coordinates:t[e].coordinates},o={collectedProperties:t[e].properties};return n.feature(r,o)})))}},8538:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1013)),i=r(4102),l=r(1540),a=n(r(8829)),s=n(r(5878));t.default=function(e,t){void 0===t&&(t={});var r=t.maxEdge||1/0,n=function(e){var t=[],r={};return l.featureEach(e,(function(e){if(e.geometry){var n=e.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(r,n)||(t.push(e),r[n]=!0)}})),i.featureCollection(t)}(e),c=a.default(n);if(c.features=c.features.filter((function(e){var n=e.geometry.coordinates[0][0],i=e.geometry.coordinates[0][1],l=e.geometry.coordinates[0][2],a=o.default(n,i,t),s=o.default(i,l,t),c=o.default(n,l,t);return a<=r&&s<=r&&c<=r})),c.features.length<1)return null;var u=s.default(c);return 1===u.coordinates.length&&(u.coordinates=u.coordinates[0],u.type="Polygon"),i.feature(u)}},5878:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(6565)),i=r(4102),l=r(611),a=r(1540),s=n(r(4692)),c=n(r(2387));t.default=function(e,t){if(void 0===t&&(t={}),t=t||{},!i.isObject(t))throw new Error("options is invalid");var r=t.mutate;if("FeatureCollection"!==l.getType(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==r&&void 0!==r||(e=o.default(e));var n=function(e){var t={};a.flattenEach(e,(function(e){t[e.geometry.type]=!0}));var r=Object.keys(t);return 1===r.length?r[0]:null}(e);if(!n)throw new Error("geojson must be homogenous");var u=e;switch(n){case"LineString":return s.default(u,t);case"Polygon":return c.default(u,t);default:throw new Error(n+" is not supported")}}},4692:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(6565)),i=r(4102),l=r(611),a=r(1540);function s(e){return e[0].toString()+","+e[1].toString()}t.default=function(e,t){if(void 0===t&&(t={}),t=t||{},!i.isObject(t))throw new Error("options is invalid");var r=t.mutate;if("FeatureCollection"!==l.getType(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==r&&void 0!==r||(e=o.default(e));var n=[],c=a.lineReduce(e,(function(e,t){return function(e,t){var r,n=e.geometry.coordinates,o=t.geometry.coordinates,l=s(n[0]),a=s(n[n.length-1]),c=s(o[0]),u=s(o[o.length-1]);if(l===u)r=o.concat(n.slice(1));else if(c===a)r=n.concat(o.slice(1));else if(l===c)r=n.slice(1).reverse().concat(o);else{if(a!==u)return null;r=n.concat(o.reverse().slice(1))}return i.lineString(r)}(e,t)||(n.push(e),t)}));return c&&n.push(c),n.length?1===n.length?n[0]:i.multiLineString(n.map((function(e){return e.coordinates}))):null}},2387:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(6565)),i=r(4102),l=r(611),a=r(1540),s=r(8146),c=r(4255);t.default=function(e,t){if(void 0===t&&(t={}),"FeatureCollection"!==l.getType(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==t.mutate&&void 0!==t.mutate||(e=o.default(e));var r=[];a.flattenEach(e,(function(e){r.push(e.geometry)}));var n=c.topology({geoms:i.geometryCollection(r).geometry});return s.merge(n,n.objects.geoms.geometries)}},7382:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4102),i=r(1540),l=n(r(2273));t.default=function(e,t){void 0===t&&(t={}),t.concavity=t.concavity||1/0;var r=[];if(i.coordEach(e,(function(e){r.push([e[0],e[1]])})),!r.length)return null;var n=l.default(r,t.concavity);return n.length>3?o.polygon([n]):null}},3737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102),o=r(611);t.default=function(e,t,r,i){void 0===i&&(i={});var l=o.getCoord(e),a=n.degreesToRadians(l[0]),s=n.degreesToRadians(l[1]),c=n.degreesToRadians(r),u=n.lengthToRadians(t,i.units),f=Math.asin(Math.sin(s)*Math.cos(u)+Math.cos(s)*Math.sin(u)*Math.cos(c)),p=a+Math.atan2(Math.sin(c)*Math.sin(u)*Math.cos(s),Math.cos(u)-Math.sin(s)*Math.sin(f)),h=n.radiansToDegrees(p),g=n.radiansToDegrees(f);return n.point([h,g],i.properties)}},8727:(e,t,r)=>{"use strict";var n=r(2676),o=r(4102),i=r(611);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=l(n);function s(e,t){var r=i.getGeom(e),n=i.getGeom(t),l=e.properties||{},s=a.default.difference(r.coordinates,n.coordinates);return 0===s.length?null:1===s.length?o.polygon(s[0],l):o.multiPolygon(s,l)}e.exports=s,e.exports.default=s},2407:(e,t,r)=>{"use strict";var n=r(4102),o=r(611),i=r(1540),l=r(4288),a=r(2676);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=s(l),u=s(a);function f(e,t){if(t=t||{},!n.isObject(t))throw new Error("options is invalid");var r=t.propertyName;o.collectionOf(e,"Polygon","dissolve");var l=[];if(!t.propertyName)return c.default(n.multiPolygon(u.default.union.apply(null,e.features.map((function(e){return e.geometry.coordinates})))));var a={};i.featureEach(e,(function(e){Object.prototype.hasOwnProperty.call(a,e.properties[r])||(a[e.properties[r]]=[]),a[e.properties[r]].push(e)}));for(var s=Object.keys(a),f=0;f<s.length;f++){var p=n.multiPolygon(u.default.union.apply(null,a[s[f]].map((function(e){return e.geometry.coordinates}))));p.properties[r]=s[f],l.push(p)}return c.default(n.featureCollection(l))}e.exports=f,e.exports.default=f},5366:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(6338)),i=r(611),l=r(1540);function a(e,t,r){void 0===r&&(r=2);var n=i.getCoord(e),o=i.getCoord(t),l=n[0]-o[0],a=n[1]-o[1];return 1===r?Math.abs(l)+Math.abs(a):Math.pow(Math.pow(l,r)+Math.pow(a,r),1/r)}t.pNormDistance=a,t.default=function(e,t){var r=(t=t||{}).threshold||1e4,n=t.p||2,i=t.binary||!1,s=t.alpha||-1,c=t.standardization||!1,u=[];l.featureEach(e,(function(e){u.push(o.default(e))}));for(var f=[],p=0;p<u.length;p++)f[p]=[];for(p=0;p<u.length;p++)for(var h=p;h<u.length;h++){p===h&&(f[p][h]=0);var g=a(u[p],u[h],n);f[p][h]=g,f[h][p]=g}for(p=0;p<u.length;p++)for(h=0;h<u.length;h++)0!==(g=f[p][h])&&(f[p][h]=i?g<=r?1:0:g<=r?Math.pow(g,s):0);if(c)for(p=0;p<u.length;p++){var m=f[p].reduce((function(e,t){return e+t}),0);for(h=0;h<u.length;h++)f[p][h]=f[p][h]/m}return f}},1013:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(611),o=r(4102);t.default=function(e,t,r){void 0===r&&(r={});var i=n.getCoord(e),l=n.getCoord(t),a=o.degreesToRadians(l[1]-i[1]),s=o.degreesToRadians(l[0]-i[0]),c=o.degreesToRadians(i[1]),u=o.degreesToRadians(l[1]),f=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(c)*Math.cos(u);return o.radiansToLength(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}},1211:(e,t,r)=>{"use strict";var n=r(4102),o=r(6082),i=r(7460),l=r(611);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(o),c=a(i);function u(e,t,r,o){var i=(o=o||{}).steps||64,a=o.units||"kilometers",u=o.angle||0,p=o.pivot||e,h=o.properties||e.properties||{};if(!e)throw new Error("center is required");if(!t)throw new Error("xSemiAxis is required");if(!r)throw new Error("ySemiAxis is required");if(!n.isObject(o))throw new Error("options must be an object");if(!n.isNumber(i))throw new Error("steps must be a number");if(!n.isNumber(u))throw new Error("angle must be a number");var g=l.getCoord(e);if("degrees"===a)var m=n.degreesToRadians(u);else t=s.default(e,t,90,{units:a}),r=s.default(e,r,0,{units:a}),t=l.getCoord(t)[0]-g[0],r=l.getCoord(r)[1]-g[1];for(var v=[],d=0;d<i;d+=1){var y=-360*d/i,b=t*r/Math.sqrt(Math.pow(r,2)+Math.pow(t,2)*Math.pow(f(y),2)),w=t*r/Math.sqrt(Math.pow(t,2)+Math.pow(r,2)/Math.pow(f(y),2));if(y<-90&&y>=-270&&(b=-b),y<-180&&y>=-360&&(w=-w),"degrees"===a){var O=b*Math.cos(m)+w*Math.sin(m),x=w*Math.cos(m)-b*Math.sin(m);b=O,w=x}v.push([b+g[0],w+g[1]])}return v.push(v[0]),"degrees"===a?n.polygon([v],h):c.default(n.polygon([v],h),u,{pivot:p})}function f(e){var t=e*Math.PI/180;return Math.tan(t)}e.exports=u,e.exports.default=u},9062:(e,t,r)=>{"use strict";var n=r(9705),o=r(3652);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=i(n),a=i(o);function s(e){return a.default(l.default(e))}e.exports=s,e.exports.default=s},3922:(e,t,r)=>{"use strict";var n=r(1540),o=r(4102);function i(e){var t=[];return"FeatureCollection"===e.type?n.featureEach(e,(function(e){n.coordEach(e,(function(r){t.push(o.point(r,e.properties))}))})):n.coordEach(e,(function(r){t.push(o.point(r,e.properties))})),o.featureCollection(t)}e.exports=i,e.exports.default=i},4288:(e,t,r)=>{"use strict";var n=r(1540),o=r(4102);function i(e){if(!e)throw new Error("geojson is required");var t=[];return n.flattenEach(e,(function(e){t.push(e)})),o.featureCollection(t)}e.exports=i,e.exports.default=i},7970:(e,t,r)=>{"use strict";var n=r(1540),o=r(4102);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=i(r(6565));function a(e,t){if(t=t||{},!o.isObject(t))throw new Error("options is invalid");var r=t.mutate;if(!e)throw new Error("geojson is required");return!1!==r&&void 0!==r||(e=l.default(e)),n.coordEach(e,(function(e){var t=e[0],r=e[1];e[0]=r,e[1]=t})),e}e.exports=a,e.exports.default=a},5422:(e,t,r)=>{"use strict";var n=r(611),o=Math.PI/180,i=180/Math.PI,l=function(e,t){this.lon=e,this.lat=t,this.x=o*e,this.y=o*t};l.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},l.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new l(t,e)};var a=function(){this.coords=[],this.length=0};a.prototype.move_to=function(e){this.length++,this.coords.push(e)};var s=function(e){this.properties=e||{},this.geometries=[]};s.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},s.prototype.wkt=function(){for(var e="",t="LINESTRING(",r=function(e){t+=e[0]+" "+e[1]+","},n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";this.geometries[n].coords.forEach(r),e+=t.substring(0,t.length-1)+")"}return e};var c=function(e,t,r){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new l(e.x,e.y),this.end=new l(t.x,t.y),this.properties=r||{};var n=this.start.x-this.end.x,o=this.start.y-this.end.y,i=Math.pow(Math.sin(o/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};function u(e,t,r){if("object"!=typeof(r=r||{}))throw new Error("options is invalid");var o=r.properties,i=r.npoints,l=r.offset;return e=n.getCoord(e),t=n.getCoord(t),o=o||{},i=i||100,l=l||10,new c({x:e[0],y:e[1]},{x:t[0],y:t[1]},o).Arc(i,{offset:l}).json()}c.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),r=Math.sin(e*this.g)/Math.sin(this.g),n=t*Math.cos(this.start.y)*Math.cos(this.start.x)+r*Math.cos(this.end.y)*Math.cos(this.end.x),o=t*Math.cos(this.start.y)*Math.sin(this.start.x)+r*Math.cos(this.end.y)*Math.sin(this.end.x),l=t*Math.sin(this.start.y)+r*Math.sin(this.end.y),a=i*Math.atan2(l,Math.sqrt(Math.pow(n,2)+Math.pow(o,2)));return[i*Math.atan2(o,n),a]},c.prototype.Arc=function(e,t){var r=[];if(!e||e<=2)r.push([this.start.lon,this.start.lat]),r.push([this.end.lon,this.end.lat]);else for(var n=1/(e-1),o=0;o<e;++o){var i=n*o,l=this.interpolate(i);r.push(l)}for(var c=!1,u=0,f=t&&t.offset?t.offset:10,p=180-f,h=-180+f,g=360-f,m=1;m<r.length;++m){var v=r[m-1][0],d=r[m][0],y=Math.abs(d-v);y>g&&(d>p&&v<h||v>p&&d<h)?c=!0:y>u&&(u=y)}var b=[];if(c&&u<f){var w=[];b.push(w);for(var O=0;O<r.length;++O){var x=parseFloat(r[O][0]);if(O>0&&Math.abs(x-r[O-1][0])>g){var _=parseFloat(r[O-1][0]),z=parseFloat(r[O-1][1]),E=parseFloat(r[O][0]),j=parseFloat(r[O][1]);if(_>-180&&_<h&&180===E&&O+1<r.length&&r[O-1][0]>-180&&r[O-1][0]<h){w.push([-180,r[O][1]]),O++,w.push([r[O][0],r[O][1]]);continue}if(_>p&&_<180&&-180===E&&O+1<r.length&&r[O-1][0]>p&&r[O-1][0]<180){w.push([180,r[O][1]]),O++,w.push([r[O][0],r[O][1]]);continue}if(_<h&&E>p){var P=_;_=E,E=P;var S=z;z=j,j=S}if(_>p&&E<h&&(E+=360),_<=180&&E>=180&&_<E){var M=(180-_)/(E-_),T=M*j+(1-M)*z;w.push([r[O-1][0]>p?180:-180,T]),(w=[]).push([r[O-1][0]>p?-180:180,T]),b.push(w)}else w=[],b.push(w);w.push([x,r[O][1]])}else w.push([r[O][0],r[O][1]])}}else{var C=[];b.push(C);for(var A=0;A<r.length;++A)C.push([r[A][0],r[A][1]])}for(var I=new s(this.properties),k=0;k<b.length;++k){var R=new a;I.geometries.push(R);for(var L=b[k],V=0;V<L.length;++V)R.move_to(L[V])}return I},e.exports=u,e.exports.default=u},4102:(e,t)=>{"use strict";function r(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function n(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!h(e[0])||!h(e[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:e},t,n)}function o(e,t,n){void 0===n&&(n={});for(var o=0,i=e;o<i.length;o++){var l=i[o];if(l.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<l[l.length-1].length;a++)if(l[l.length-1][a]!==l[0][a])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:e},t,n)}function i(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:e},t,n)}function l(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function a(e,t,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:e},t,n)}function s(e,t,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:e},t,n)}function c(e,t,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:e},t,n)}function u(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e*n}function f(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e/n}function p(e){return e%(2*Math.PI)*180/Math.PI}function h(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=r,t.geometry=function(e,t,r){switch(void 0===r&&(r={}),e){case"Point":return n(t).geometry;case"LineString":return i(t).geometry;case"Polygon":return o(t).geometry;case"MultiPoint":return s(t).geometry;case"MultiLineString":return a(t).geometry;case"MultiPolygon":return c(t).geometry;default:throw new Error(e+" is invalid")}},t.point=n,t.points=function(e,t,r){return void 0===r&&(r={}),l(e.map((function(e){return n(e,t)})),r)},t.polygon=o,t.polygons=function(e,t,r){return void 0===r&&(r={}),l(e.map((function(e){return o(e,t)})),r)},t.lineString=i,t.lineStrings=function(e,t,r){return void 0===r&&(r={}),l(e.map((function(e){return i(e,t)})),r)},t.featureCollection=l,t.multiLineString=a,t.multiPoint=s,t.multiPolygon=c,t.geometryCollection=function(e,t,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:e},t,n)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r},t.radiansToLength=u,t.lengthToRadians=f,t.lengthToDegrees=function(e,t){return p(f(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=p,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,r){if(void 0===t&&(t="kilometers"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return u(f(e,t),r)},t.convertArea=function(e,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=t.areaFactors[r];if(!o)throw new Error("invalid original units");var i=t.areaFactors[n];if(!i)throw new Error("invalid final units");return e/o*i},t.isNumber=h,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!h(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},5621:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1013)),i=n(r(4170)),l=r(4102);function a(e,t,r,n,o,i){for(var a=[],s=0;s<6;s++){var c=e[0]+t*o[s],u=e[1]+r*i[s];a.push([c,u])}return a.push(a[0].slice()),l.polygon([a],n)}function s(e,t,r,n,o,i){for(var a=[],s=0;s<6;s++){var c=[];c.push(e),c.push([e[0]+t*o[s],e[1]+r*i[s]]),c.push([e[0]+t*o[(s+1)%6],e[1]+r*i[(s+1)%6]]),c.push(e),a.push(l.polygon([c],n))}return a}t.default=function(e,t,r){void 0===r&&(r={});var n=JSON.stringify(r.properties||{}),c=e[0],u=e[1],f=e[2],p=e[3],h=(u+p)/2,g=(c+f)/2,m=2*t/o.default([c,h],[f,h],r)*(f-c),v=2*t/o.default([g,u],[g,p],r)*(p-u),d=m/2,y=2*d,b=Math.sqrt(3)/2*v,w=f-c,O=p-u,x=3/4*y,_=b,z=(w-y)/(y-d/2),E=Math.floor(z),j=(E*x-d/2-w)/2-d/2+x/2,P=Math.floor((O-b)/b),S=(O-P*b)/2,M=P*b-O>b/2;M&&(S-=b/4);for(var T=[],C=[],A=0;A<6;A++){var I=2*Math.PI/6*A;T.push(Math.cos(I)),C.push(Math.sin(I))}for(var k=[],R=0;R<=E;R++)for(var L=0;L<=P;L++){var V=R%2==1;if(!(0===L&&V||0===L&&M)){var B=R*x+c-j,H=L*_+u+S;if(V&&(H-=b/2),!0===r.triangles)s([B,H],m/2,v/2,JSON.parse(n),T,C).forEach((function(e){r.mask?i.default(r.mask,e)&&k.push(e):k.push(e)}));else{var D=a([B,H],m/2,v/2,JSON.parse(n),T,C);r.mask?i.default(r.mask,D)&&k.push(D):k.push(D)}}}return l.featureCollection(k)}},5566:(e,t,r)=>{"use strict";var n=r(9705),o=r(5621),i=r(6813),l=r(1013),a=r(6338),s=r(5434),c=r(4686),u=r(6565),f=r(4102),p=r(1540),h=r(611);function g(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m=g(n),v=g(o),d=g(i),y=g(l),b=g(a),w=g(s),O=g(c),x=g(u);function _(e,t,r){if("object"!=typeof(r=r||{}))throw new Error("options is invalid");var n=r.gridType,o=r.property,i=r.weight;if(!e)throw new Error("points is required");if(h.collectionOf(e,"Point","input must contain Points"),!t)throw new Error("cellSize is required");if(void 0!==i&&"number"!=typeof i)throw new Error("weight must be a number");o=o||"elevation",n=n||"square",i=i||1;var l,a=m.default(e);switch(n){case"point":case"points":l=d.default(a,t,r);break;case"square":case"squares":l=w.default(a,t,r);break;case"hex":case"hexes":l=v.default(a,t,r);break;case"triangle":case"triangles":l=O.default(a,t,r);break;default:throw new Error("invalid gridType")}var s=[];return p.featureEach(l,(function(t){var l=0,a=0;p.featureEach(e,(function(e){var s,c="point"===n?t:b.default(t),u=y.default(c,e,r);if(void 0!==o&&(s=e.properties[o]),void 0===s&&(s=e.geometry.coordinates[2]),void 0===s)throw new Error("zValue is missing");0===u&&(l=s);var f=1/Math.pow(u,i);a+=f,l+=f*s}));var c=x.default(t);c.properties[o]=l/a,s.push(c)})),f.featureCollection(s)}e.exports=_,e.exports.default=_},4170:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4102),i=r(611),l=n(r(2676));t.default=function(e,t,r){void 0===r&&(r={});var n=i.getGeom(e),a=i.getGeom(t),s=l.default.intersection(n.coordinates,a.coordinates);return 0===s.length?null:1===s.length?o.polygon(s[0],r.properties):o.multiPolygon(s,r.properties)}},611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102);t.getCoord=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")},t.getCoords=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},t.containsNumber=function e(t){if(t.length>1&&n.isNumber(t[0])&&n.isNumber(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")},t.geojsonType=function(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)},t.featureOf=function(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)},t.collectionOf=function(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var n=0,o=e.features;n<o.length;n++){var i=o[n];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+i.geometry.type)}},t.getGeom=function(e){return"Feature"===e.type?e.geometry:e},t.getType=function(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},7406:(e,t,r)=>{"use strict";var n=r(9705),o=r(1070),i=r(8147),l=r(3922),a=r(611),s=r(4102),c=r(7418),u=r(1540);function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=f(n),h=f(o),g=f(i),m=f(l),v=f(c);var d={successCallback:null,verbose:!1,polygons:!1},y={};function b(e,t,r,n){n=n||{};for(var o=Object.keys(d),i=0;i<o.length;i++){var l=o[i],a=n[l];a=null!=a?a:d[l],y[l]=a}y.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+t+":"+(t+r)+"]");var s,c=function(e,t,r){for(var n=e.length-1,o=e[0].length-1,i={rows:n,cols:o,cells:[]},l=t+Math.abs(r),a=0;a<n;++a){i.cells[a]=[];for(var s=0;s<o;++s){var c=0,u=e[a+1][s],f=e[a+1][s+1],p=e[a][s+1],h=e[a][s];if(!(isNaN(u)||isNaN(f)||isNaN(p)||isNaN(h))){c|=u<t?0:u>l?128:64,c|=f<t?0:f>l?32:16,c|=p<t?0:p>l?8:4;var g=+(c|=h<t?0:h>l?2:1),m=0;if(17===c||18===c||33===c||34===c||38===c||68===c||72===c||98===c||102===c||132===c||136===c||137===c||152===c||153===c){var v=(u+f+p+h)/4;m=v>l?2:v<t?0:1,34===c?1===m?c=35:0===m&&(c=136):136===c?1===m?(c=35,m=4):0===m&&(c=34):17===c?1===m?(c=155,m=4):0===m&&(c=153):68===c?1===m?(c=103,m=4):0===m&&(c=102):153===c?1===m&&(c=155):102===c?1===m&&(c=103):152===c?m<2&&(c=156,m=1):137===c?m<2&&(c=139,m=1):98===c?m<2&&(c=99,m=1):38===c?m<2&&(c=39,m=1):18===c?m>0?(c=156,m=4):c=152:33===c?m>0?(c=139,m=4):c=137:72===c?m>0?(c=99,m=4):c=98:132===c&&(m>0?(c=39,m=4):c=38)}if(0!=c&&170!=c){var d,y,b,w,O,x,_,z;d=y=b=w=O=x=_=z=.5;var E=[];1===c?(b=1-fe(t,p,h),z=1-fe(t,u,h),E.push(ie[c])):169===c?(b=fe(l,h,p),z=fe(l,h,u),E.push(ie[c])):4===c?(x=1-fe(t,f,p),w=fe(t,h,p),E.push(ne[c])):166===c?(x=fe(l,p,f),w=1-fe(l,p,h),E.push(ne[c])):16===c?(O=fe(t,p,f),y=fe(t,u,f),E.push(re[c])):154===c?(O=1-fe(l,f,p),y=1-fe(l,f,u),E.push(re[c])):64===c?(_=fe(t,h,u),d=1-fe(t,f,u),E.push(ae[c])):106===c?(_=1-fe(l,u,h),d=fe(l,u,f),E.push(ae[c])):168===c?(w=fe(l,h,p),b=fe(t,h,p),z=fe(t,h,u),_=fe(l,h,u),E.push(oe[c]),E.push(ie[c])):2===c?(w=1-fe(t,p,h),b=1-fe(l,p,h),z=1-fe(l,u,h),_=1-fe(t,u,h),E.push(oe[c]),E.push(ie[c])):162===c?(O=fe(l,p,f),x=fe(t,p,f),w=1-fe(t,p,h),b=1-fe(l,p,h),E.push(oe[c]),E.push(ie[c])):8===c?(O=1-fe(t,f,p),x=1-fe(l,f,p),w=fe(l,h,p),b=fe(t,h,p),E.push(re[c]),E.push(ne[c])):138===c?(O=1-fe(t,f,p),x=1-fe(l,f,p),d=1-fe(l,f,u),y=1-fe(t,f,u),E.push(re[c]),E.push(ne[c])):32===c?(O=fe(l,p,f),x=fe(t,p,f),d=fe(t,u,f),y=fe(l,u,f),E.push(re[c]),E.push(ne[c])):42===c?(z=1-fe(l,u,h),_=1-fe(t,u,h),d=fe(t,u,f),y=fe(l,u,f),E.push(le[c]),E.push(ae[c])):128===c&&(z=fe(t,h,u),_=fe(l,h,u),d=1-fe(l,f,u),y=1-fe(t,f,u),E.push(le[c]),E.push(ae[c])),5===c?(x=1-fe(t,f,p),z=1-fe(t,u,h),E.push(ne[c])):165===c?(x=fe(l,p,f),z=fe(l,h,u),E.push(ne[c])):20===c?(w=fe(t,h,p),y=fe(t,u,f),E.push(oe[c])):150===c?(w=1-fe(l,p,h),y=1-fe(l,f,u),E.push(oe[c])):80===c?(O=fe(t,p,f),_=fe(t,h,u),E.push(re[c])):90===c?(O=1-fe(l,f,p),_=1-fe(l,u,h),E.push(re[c])):65===c?(b=1-fe(t,p,h),d=1-fe(t,f,u),E.push(ie[c])):105===c?(b=fe(l,h,p),d=fe(l,u,f),E.push(ie[c])):160===c?(O=fe(l,p,f),x=fe(t,p,f),z=fe(t,h,u),_=fe(l,h,u),E.push(re[c]),E.push(ne[c])):10===c?(O=1-fe(t,f,p),x=1-fe(l,f,p),z=1-fe(l,u,h),_=1-fe(t,u,h),E.push(re[c]),E.push(ne[c])):130===c?(w=1-fe(t,p,h),b=1-fe(l,p,h),d=1-fe(l,f,u),y=1-fe(t,f,u),E.push(oe[c]),E.push(ie[c])):40===c?(w=fe(l,h,p),b=fe(t,h,p),d=fe(t,u,f),y=fe(l,u,f),E.push(oe[c]),E.push(ie[c])):101===c?(x=fe(l,p,f),d=fe(l,u,f),E.push(ne[c])):69===c?(x=1-fe(t,f,p),d=1-fe(t,f,u),E.push(ne[c])):149===c?(z=fe(l,h,u),y=1-fe(l,f,u),E.push(le[c])):21===c?(z=1-fe(t,u,h),y=fe(t,u,f),E.push(le[c])):86===c?(w=1-fe(l,p,h),_=1-fe(l,u,h),E.push(oe[c])):84===c?(w=fe(t,h,p),_=fe(t,h,u),E.push(oe[c])):89===c?(O=1-fe(l,f,p),b=fe(l,h,p),E.push(ie[c])):81===c?(O=fe(t,p,f),b=1-fe(t,p,h),E.push(ie[c])):96===c?(O=fe(l,p,f),x=fe(t,p,f),_=fe(t,h,u),d=fe(l,u,f),E.push(re[c]),E.push(ne[c])):74===c?(O=1-fe(t,f,p),x=1-fe(l,f,p),_=1-fe(l,u,h),d=1-fe(t,f,u),E.push(re[c]),E.push(ne[c])):24===c?(O=1-fe(l,f,p),w=fe(l,h,p),b=fe(t,h,p),y=fe(t,u,f),E.push(re[c]),E.push(ie[c])):146===c?(O=fe(t,p,f),w=1-fe(t,p,h),b=1-fe(l,p,h),y=1-fe(l,f,u),E.push(re[c]),E.push(ie[c])):6===c?(x=1-fe(t,f,p),w=1-fe(l,p,h),z=1-fe(l,u,h),_=1-fe(t,u,h),E.push(ne[c]),E.push(oe[c])):164===c?(x=fe(l,p,f),w=fe(t,h,p),z=fe(t,h,u),_=fe(l,h,u),E.push(ne[c]),E.push(oe[c])):129===c?(b=1-fe(t,p,h),z=fe(l,h,u),d=1-fe(l,f,u),y=1-fe(t,f,u),E.push(ie[c]),E.push(le[c])):41===c?(b=fe(l,h,p),z=1-fe(t,u,h),d=fe(t,u,f),y=fe(l,u,f),E.push(ie[c]),E.push(le[c])):66===c?(w=1-fe(t,p,h),b=1-fe(l,p,h),_=1-fe(l,u,h),d=1-fe(t,f,u),E.push(oe[c]),E.push(ie[c])):104===c?(w=fe(l,h,p),b=fe(t,h,p),_=fe(t,h,u),d=fe(l,u,f),E.push(ie[c]),E.push(se[c])):144===c?(O=fe(t,p,f),z=fe(t,h,u),_=fe(l,h,u),y=1-fe(l,f,u),E.push(re[c]),E.push(ae[c])):26===c?(O=1-fe(l,f,p),z=1-fe(l,u,h),_=1-fe(t,u,h),y=fe(t,u,f),E.push(re[c]),E.push(ae[c])):36===c?(x=fe(l,p,f),w=fe(t,h,p),d=fe(t,u,f),y=fe(l,u,f),E.push(ne[c]),E.push(oe[c])):134===c?(x=1-fe(t,f,p),w=1-fe(l,p,h),d=1-fe(l,f,u),y=1-fe(t,f,u),E.push(ne[c]),E.push(oe[c])):9===c?(O=1-fe(t,f,p),x=1-fe(l,f,p),b=fe(l,h,p),z=1-fe(t,u,h),E.push(re[c]),E.push(ne[c])):161===c?(O=fe(l,p,f),x=fe(t,p,f),b=1-fe(t,p,h),z=fe(l,h,u),E.push(re[c]),E.push(ne[c])):37===c?(x=fe(l,p,f),z=1-fe(t,u,h),d=fe(t,u,f),y=fe(l,u,f),E.push(ne[c]),E.push(le[c])):133===c?(x=1-fe(t,f,p),z=fe(l,h,u),d=1-fe(l,f,u),y=1-fe(t,f,u),E.push(ne[c]),E.push(le[c])):148===c?(w=fe(t,h,p),z=fe(t,h,u),_=fe(l,h,u),y=1-fe(l,f,u),E.push(oe[c]),E.push(ae[c])):22===c?(w=1-fe(l,p,h),z=1-fe(l,u,h),_=1-fe(t,u,h),y=fe(t,u,f),E.push(oe[c]),E.push(ae[c])):82===c?(O=fe(t,p,f),w=1-fe(t,p,h),b=1-fe(l,p,h),_=1-fe(l,u,h),E.push(re[c]),E.push(ie[c])):88===c?(O=1-fe(l,f,p),w=fe(l,h,p),b=fe(t,h,p),_=fe(t,h,u),E.push(re[c]),E.push(ie[c])):73===c?(O=1-fe(t,f,p),x=1-fe(l,f,p),b=fe(l,h,p),d=1-fe(t,f,u),E.push(re[c]),E.push(ne[c])):97===c?(O=fe(l,p,f),x=fe(t,p,f),b=1-fe(t,p,h),d=fe(l,u,f),E.push(re[c]),E.push(ne[c])):145===c?(O=fe(t,p,f),b=1-fe(t,p,h),z=fe(l,h,u),y=1-fe(l,f,u),E.push(re[c]),E.push(le[c])):25===c?(O=1-fe(l,f,p),b=fe(l,h,p),z=1-fe(t,u,h),y=fe(t,u,f),E.push(re[c]),E.push(le[c])):70===c?(x=1-fe(t,f,p),w=1-fe(l,p,h),_=1-fe(l,u,h),d=1-fe(t,f,u),E.push(ne[c]),E.push(oe[c])):100===c?(x=fe(l,p,f),w=fe(t,h,p),_=fe(t,h,u),d=fe(l,u,f),E.push(ne[c]),E.push(oe[c])):34===c?(0===m?(O=1-fe(t,f,p),x=1-fe(l,f,p),w=fe(l,h,p),b=fe(t,h,p),z=fe(t,h,u),_=fe(l,h,u),d=1-fe(l,f,u),y=1-fe(t,f,u)):(O=fe(l,p,f),x=fe(t,p,f),w=1-fe(t,p,h),b=1-fe(l,p,h),z=1-fe(l,u,h),_=1-fe(t,u,h),d=fe(t,u,f),y=fe(l,u,f)),E.push(re[c]),E.push(ne[c]),E.push(le[c]),E.push(ae[c])):35===c?(4===m?(O=1-fe(t,f,p),x=1-fe(l,f,p),w=fe(l,h,p),b=fe(t,h,p),z=fe(t,h,u),_=fe(l,h,u),d=1-fe(l,f,u),y=1-fe(t,f,u)):(O=fe(l,p,f),x=fe(t,p,f),w=1-fe(t,p,h),b=1-fe(l,p,h),z=1-fe(l,u,h),_=1-fe(t,u,h),d=fe(t,u,f),y=fe(l,u,f)),E.push(re[c]),E.push(ne[c]),E.push(ie[c]),E.push(ae[c])):136===c?(0===m?(O=fe(l,p,f),x=fe(t,p,f),w=1-fe(t,p,h),b=1-fe(l,p,h),z=1-fe(l,u,h),_=1-fe(t,u,h),d=fe(t,u,f),y=fe(l,u,f)):(O=1-fe(t,f,p),x=1-fe(l,f,p),w=fe(l,h,p),b=fe(t,h,p),z=fe(t,h,u),_=fe(l,h,u),d=1-fe(l,f,u),y=1-fe(t,f,u)),E.push(re[c]),E.push(ne[c]),E.push(le[c]),E.push(ae[c])):153===c?(0===m?(O=fe(t,p,f),b=1-fe(t,p,h),z=1-fe(t,u,h),y=fe(t,u,f)):(O=1-fe(l,f,p),b=fe(l,h,p),z=fe(l,h,u),y=1-fe(l,f,u)),E.push(re[c]),E.push(ie[c])):102===c?(0===m?(x=1-fe(t,f,p),w=fe(t,h,p),_=fe(t,h,u),d=1-fe(t,f,u)):(x=fe(l,p,f),w=1-fe(l,p,h),_=1-fe(l,u,h),d=fe(l,u,f)),E.push(ne[c]),E.push(ae[c])):155===c?(4===m?(O=fe(t,p,f),b=1-fe(t,p,h),z=1-fe(t,u,h),y=fe(t,u,f)):(O=1-fe(l,f,p),b=fe(l,h,p),z=fe(l,h,u),y=1-fe(l,f,u)),E.push(re[c]),E.push(le[c])):103===c?(4===m?(x=1-fe(t,f,p),w=fe(t,h,p),_=fe(t,h,u),d=1-fe(t,f,u)):(x=fe(l,p,f),w=1-fe(l,p,h),_=1-fe(l,u,h),d=fe(l,u,f)),E.push(ne[c]),E.push(oe[c])):152===c?(0===m?(O=fe(t,p,f),w=1-fe(t,p,h),b=1-fe(l,p,h),z=1-fe(l,u,h),_=1-fe(t,u,h),y=fe(t,u,f)):(O=1-fe(l,f,p),w=fe(l,h,p),b=fe(t,h,p),z=fe(t,h,u),_=fe(l,h,u),y=1-fe(l,f,u)),E.push(re[c]),E.push(oe[c]),E.push(ie[c])):156===c?(4===m?(O=fe(t,p,f),w=1-fe(t,p,h),b=1-fe(l,p,h),z=1-fe(l,u,h),_=1-fe(t,u,h),y=fe(t,u,f)):(O=1-fe(l,f,p),w=fe(l,h,p),b=fe(t,h,p),z=fe(t,h,u),_=fe(l,h,u),y=1-fe(l,f,u)),E.push(re[c]),E.push(ie[c]),E.push(ae[c])):137===c?(0===m?(O=fe(l,p,f),x=fe(t,p,f),b=1-fe(t,p,h),z=1-fe(t,u,h),d=fe(t,u,f),y=fe(l,u,f)):(O=1-fe(t,f,p),x=1-fe(l,f,p),b=fe(l,h,p),z=fe(l,h,u),d=1-fe(l,f,u),y=1-fe(t,f,u)),E.push(re[c]),E.push(ne[c]),E.push(ie[c])):139===c?(4===m?(O=fe(l,p,f),x=fe(t,p,f),b=1-fe(t,p,h),z=1-fe(t,u,h),d=fe(t,u,f),y=fe(l,u,f)):(O=1-fe(t,f,p),x=1-fe(l,f,p),b=fe(l,h,p),z=fe(l,h,u),d=1-fe(l,f,u),y=1-fe(t,f,u)),E.push(re[c]),E.push(ne[c]),E.push(le[c])):98===c?(0===m?(O=1-fe(t,f,p),x=1-fe(l,f,p),w=fe(l,h,p),b=fe(t,h,p),_=fe(t,h,u),d=1-fe(t,f,u)):(O=fe(l,p,f),x=fe(t,p,f),w=1-fe(t,p,h),b=1-fe(l,p,h),_=1-fe(l,u,h),d=fe(l,u,f)),E.push(re[c]),E.push(ne[c]),E.push(ae[c])):99===c?(4===m?(O=1-fe(t,f,p),x=1-fe(l,f,p),w=fe(l,h,p),b=fe(t,h,p),_=fe(t,h,u),d=1-fe(t,f,u)):(O=fe(l,p,f),x=fe(t,p,f),w=1-fe(t,p,h),b=1-fe(l,p,h),_=1-fe(l,u,h),d=fe(l,u,f)),E.push(re[c]),E.push(ne[c]),E.push(ie[c])):38===c?(0===m?(x=1-fe(t,f,p),w=fe(t,h,p),z=fe(t,h,u),_=fe(l,h,u),d=1-fe(l,f,u),y=1-fe(t,f,u)):(x=fe(l,p,f),w=1-fe(l,p,h),z=1-fe(l,u,h),_=1-fe(t,u,h),d=fe(t,u,f),y=fe(l,u,f)),E.push(ne[c]),E.push(le[c]),E.push(ae[c])):39===c?(4===m?(x=1-fe(t,f,p),w=fe(t,h,p),z=fe(t,h,u),_=fe(l,h,u),d=1-fe(l,f,u),y=1-fe(t,f,u)):(x=fe(l,p,f),w=1-fe(l,p,h),z=1-fe(l,u,h),_=1-fe(t,u,h),d=fe(t,u,f),y=fe(l,u,f)),E.push(ne[c]),E.push(oe[c]),E.push(ae[c])):85===c&&(O=1,x=0,w=1,b=0,z=0,_=1,d=0,y=1),(d<0||d>1||y<0||y>1||O<0||O>1||w<0||w>1||z<0||z>1||_<0||_>1)&&console.log("MarchingSquaresJS-isoBands: "+c+" "+g+" "+u+","+f+","+p+","+h+" "+m+" "+d+" "+y+" "+O+" "+x+" "+w+" "+b+" "+z+" "+_),i.cells[a][s]={cval:c,cval_real:g,flipped:m,topleft:d,topright:y,righttop:O,rightbottom:x,bottomright:w,bottomleft:b,leftbottom:z,lefttop:_,edges:E}}}}}return i}(e,t,r);return y.polygons?(y.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),s=function(e){var t=[],r=0;return e.cells.forEach((function(e,n){e.forEach((function(e,o){if(void 0!==e){var i=ue[e.cval](e);"object"==typeof i&&pe(i)?"object"==typeof i[0]&&pe(i[0])?"object"==typeof i[0][0]&&pe(i[0][0])?i.forEach((function(e){e.forEach((function(e){e[0]+=o,e[1]+=n})),t[r++]=e})):(i.forEach((function(e){e[0]+=o,e[1]+=n})),t[r++]=i):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),t}(c)):(y.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),s=function(e){for(var t=[],r=e.rows,n=e.cols,o=[],i=0;i<r;i++)for(var l=0;l<n;l++)if(void 0!==e.cells[i][l]&&e.cells[i][l].edges.length>0){var a=ge(e.cells[i][l]),s=null,c=l,u=i;null!==a&&o.push([a.p[0]+c,a.p[1]+u]);do{if(null===(s=me(e.cells[u][c],a.x,a.y,a.o)))break;if(o.push([s.p[0]+c,s.p[1]+u]),c+=s.x,a=s,(u+=s.y)<0||u>=r||c<0||c>=n||void 0===e.cells[u][c]){var f=he(e,c-=s.x,u-=s.y,s.x,s.y,s.o);if(null===f)break;f.path.forEach((function(e){o.push(e)})),c=f.i,u=f.j,a=f}}while(void 0!==e.cells[u][c]&&e.cells[u][c].edges.length>0);t.push(o),o=[],e.cells[i][l].edges.length>0&&l--}return t}(c)),"function"==typeof y.successCallback&&y.successCallback(s),s}var w=64,O=16,x=4,_=1,z=[],E=[],j=[],P=[],S=[],M=[],T=[],C=[],A=[],I=[],k=[],R=[],L=[],V=[],B=[],H=[],D=[],Z=[],F=[],N=[],U=[],G=[],q=[],X=[];T[85]=I[85]=-1,C[85]=k[85]=0,A[85]=R[85]=1,F[85]=G[85]=1,N[85]=q[85]=0,U[85]=X[85]=1,z[85]=P[85]=0,E[85]=S[85]=-1,j[85]=B[85]=0,H[85]=L[85]=0,D[85]=V[85]=1,M[85]=Z[85]=1,G[1]=G[169]=0,q[1]=q[169]=-1,X[1]=X[169]=0,L[1]=L[169]=-1,V[1]=V[169]=0,B[1]=B[169]=0,I[4]=I[166]=0,k[4]=k[166]=-1,R[4]=R[166]=1,H[4]=H[166]=1,D[4]=D[166]=0,Z[4]=Z[166]=0,T[16]=T[154]=0,C[16]=C[154]=1,A[16]=A[154]=1,P[16]=P[154]=1,S[16]=S[154]=0,M[16]=M[154]=1,F[64]=F[106]=0,N[64]=N[106]=1,U[64]=U[106]=0,z[64]=z[106]=-1,E[64]=E[106]=0,j[64]=j[106]=1,F[2]=F[168]=0,N[2]=N[168]=-1,U[2]=U[168]=1,G[2]=G[168]=0,q[2]=q[168]=-1,X[2]=X[168]=0,L[2]=L[168]=-1,V[2]=V[168]=0,B[2]=B[168]=0,H[2]=H[168]=-1,D[2]=D[168]=0,Z[2]=Z[168]=1,T[8]=T[162]=0,C[8]=C[162]=-1,A[8]=A[162]=0,I[8]=I[162]=0,k[8]=k[162]=-1,R[8]=R[162]=1,L[8]=L[162]=1,V[8]=V[162]=0,B[8]=B[162]=1,H[8]=H[162]=1,D[8]=D[162]=0,Z[8]=Z[162]=0,T[32]=T[138]=0,C[32]=C[138]=1,A[32]=A[138]=1,I[32]=I[138]=0,k[32]=k[138]=1,R[32]=R[138]=0,z[32]=z[138]=1,E[32]=E[138]=0,j[32]=j[138]=0,P[32]=P[138]=1,S[32]=S[138]=0,M[32]=M[138]=1,G[128]=G[42]=0,q[128]=q[42]=1,X[128]=X[42]=1,F[128]=F[42]=0,N[128]=N[42]=1,U[128]=U[42]=0,z[128]=z[42]=-1,E[128]=E[42]=0,j[128]=j[42]=1,P[128]=P[42]=-1,S[128]=S[42]=0,M[128]=M[42]=0,I[5]=I[165]=-1,k[5]=k[165]=0,R[5]=R[165]=0,G[5]=G[165]=1,q[5]=q[165]=0,X[5]=X[165]=0,H[20]=H[150]=0,D[20]=D[150]=1,Z[20]=Z[150]=1,P[20]=P[150]=0,S[20]=S[150]=-1,M[20]=M[150]=1,T[80]=T[90]=-1,C[80]=C[90]=0,A[80]=A[90]=1,F[80]=F[90]=1,N[80]=N[90]=0,U[80]=U[90]=1,L[65]=L[105]=0,V[65]=V[105]=1,B[65]=B[105]=0,z[65]=z[105]=0,E[65]=E[105]=-1,j[65]=j[105]=0,T[160]=T[10]=-1,C[160]=C[10]=0,A[160]=A[10]=1,I[160]=I[10]=-1,k[160]=k[10]=0,R[160]=R[10]=0,G[160]=G[10]=1,q[160]=q[10]=0,X[160]=X[10]=0,F[160]=F[10]=1,N[160]=N[10]=0,U[160]=U[10]=1,H[130]=H[40]=0,D[130]=D[40]=1,Z[130]=Z[40]=1,L[130]=L[40]=0,V[130]=V[40]=1,B[130]=B[40]=0,z[130]=z[40]=0,E[130]=E[40]=-1,j[130]=j[40]=0,P[130]=P[40]=0,S[130]=S[40]=-1,M[130]=M[40]=1,I[37]=I[133]=0,k[37]=k[133]=1,R[37]=R[133]=1,G[37]=G[133]=0,q[37]=q[133]=1,X[37]=X[133]=0,z[37]=z[133]=-1,E[37]=E[133]=0,j[37]=j[133]=0,P[37]=P[133]=1,S[37]=S[133]=0,M[37]=M[133]=0,H[148]=H[22]=-1,D[148]=D[22]=0,Z[148]=Z[22]=0,G[148]=G[22]=0,q[148]=q[22]=-1,X[148]=X[22]=1,F[148]=F[22]=0,N[148]=N[22]=1,U[148]=U[22]=1,P[148]=P[22]=-1,S[148]=S[22]=0,M[148]=M[22]=1,T[82]=T[88]=0,C[82]=C[88]=-1,A[82]=A[88]=1,H[82]=H[88]=1,D[82]=D[88]=0,Z[82]=Z[88]=1,L[82]=L[88]=-1,V[82]=V[88]=0,B[82]=B[88]=1,F[82]=F[88]=0,N[82]=N[88]=-1,U[82]=U[88]=0,T[73]=T[97]=0,C[73]=C[97]=1,A[73]=A[97]=0,I[73]=I[97]=0,k[73]=k[97]=-1,R[73]=R[97]=0,L[73]=L[97]=1,V[73]=V[97]=0,B[73]=B[97]=0,z[73]=z[97]=1,E[73]=E[97]=0,j[73]=j[97]=1,T[145]=T[25]=0,C[145]=C[25]=-1,A[145]=A[25]=0,L[145]=L[25]=1,V[145]=V[25]=0,B[145]=B[25]=1,G[145]=G[25]=0,q[145]=q[25]=1,X[145]=X[25]=1,P[145]=P[25]=-1,S[145]=S[25]=0,M[145]=M[25]=0,I[70]=I[100]=0,k[70]=k[100]=1,R[70]=R[100]=0,H[70]=H[100]=-1,D[70]=D[100]=0,Z[70]=Z[100]=1,F[70]=F[100]=0,N[70]=N[100]=-1,U[70]=U[100]=1,z[70]=z[100]=1,E[70]=E[100]=0,j[70]=j[100]=0,I[101]=I[69]=0,k[101]=k[69]=1,R[101]=R[69]=0,z[101]=z[69]=1,E[101]=E[69]=0,j[101]=j[69]=0,G[149]=G[21]=0,q[149]=q[21]=1,X[149]=X[21]=1,P[149]=P[21]=-1,S[149]=S[21]=0,M[149]=M[21]=0,H[86]=H[84]=-1,D[86]=D[84]=0,Z[86]=Z[84]=1,F[86]=F[84]=0,N[86]=N[84]=-1,U[86]=U[84]=1,T[89]=T[81]=0,C[89]=C[81]=-1,A[89]=A[81]=0,L[89]=L[81]=1,V[89]=V[81]=0,B[89]=B[81]=1,T[96]=T[74]=0,C[96]=C[74]=1,A[96]=A[74]=0,I[96]=I[74]=-1,k[96]=k[74]=0,R[96]=R[74]=1,F[96]=F[74]=1,N[96]=N[74]=0,U[96]=U[74]=0,z[96]=z[74]=1,E[96]=E[74]=0,j[96]=j[74]=1,T[24]=T[146]=0,C[24]=C[146]=-1,A[24]=A[146]=1,H[24]=H[146]=1,D[24]=D[146]=0,Z[24]=Z[146]=1,L[24]=L[146]=0,V[24]=V[146]=1,B[24]=B[146]=1,P[24]=P[146]=0,S[24]=S[146]=-1,M[24]=M[146]=0,I[6]=I[164]=-1,k[6]=k[164]=0,R[6]=R[164]=1,H[6]=H[164]=-1,D[6]=D[164]=0,Z[6]=Z[164]=0,G[6]=G[164]=0,q[6]=q[164]=-1,X[6]=X[164]=1,F[6]=F[164]=1,N[6]=N[164]=0,U[6]=U[164]=0,L[129]=L[41]=0,V[129]=V[41]=1,B[129]=B[41]=1,G[129]=G[41]=0,q[129]=q[41]=1,X[129]=X[41]=0,z[129]=z[41]=-1,E[129]=E[41]=0,j[129]=j[41]=0,P[129]=P[41]=0,S[129]=S[41]=-1,M[129]=M[41]=0,H[66]=H[104]=0,D[66]=D[104]=1,Z[66]=Z[104]=0,L[66]=L[104]=-1,V[66]=V[104]=0,B[66]=B[104]=1,F[66]=F[104]=0,N[66]=N[104]=-1,U[66]=U[104]=0,z[66]=z[104]=0,E[66]=E[104]=-1,j[66]=j[104]=1,T[144]=T[26]=-1,C[144]=C[26]=0,A[144]=A[26]=0,G[144]=G[26]=1,q[144]=q[26]=0,X[144]=X[26]=1,F[144]=F[26]=0,N[144]=N[26]=1,U[144]=U[26]=1,P[144]=P[26]=-1,S[144]=S[26]=0,M[144]=M[26]=1,I[36]=I[134]=0,k[36]=k[134]=1,R[36]=R[134]=1,H[36]=H[134]=0,D[36]=D[134]=1,Z[36]=Z[134]=0,z[36]=z[134]=0,E[36]=E[134]=-1,j[36]=j[134]=1,P[36]=P[134]=1,S[36]=S[134]=0,M[36]=M[134]=0,T[9]=T[161]=-1,C[9]=C[161]=0,A[9]=A[161]=0,I[9]=I[161]=0,k[9]=k[161]=-1,R[9]=R[161]=0,L[9]=L[161]=1,V[9]=V[161]=0,B[9]=B[161]=0,G[9]=G[161]=1,q[9]=q[161]=0,X[9]=X[161]=1,T[136]=0,C[136]=1,A[136]=1,I[136]=0,k[136]=1,R[136]=0,H[136]=-1,D[136]=0,Z[136]=1,L[136]=-1,V[136]=0,B[136]=0,G[136]=0,q[136]=-1,X[136]=0,F[136]=0,N[136]=-1,U[136]=1,z[136]=1,E[136]=0,j[136]=0,P[136]=1,S[136]=0,M[136]=1,T[34]=0,C[34]=-1,A[34]=0,I[34]=0,k[34]=-1,R[34]=1,H[34]=1,D[34]=0,Z[34]=0,L[34]=1,V[34]=0,B[34]=1,G[34]=0,q[34]=1,X[34]=1,F[34]=0,N[34]=1,U[34]=0,z[34]=-1,E[34]=0,j[34]=1,P[34]=-1,S[34]=0,M[34]=0,T[35]=0,C[35]=1,A[35]=1,I[35]=0,k[35]=-1,R[35]=1,H[35]=1,D[35]=0,Z[35]=0,L[35]=-1,V[35]=0,B[35]=0,G[35]=0,q[35]=-1,X[35]=0,F[35]=0,N[35]=1,U[35]=0,z[35]=-1,E[35]=0,j[35]=1,P[35]=1,S[35]=0,M[35]=1,T[153]=0,C[153]=1,A[153]=1,L[153]=-1,V[153]=0,B[153]=0,G[153]=0,q[153]=-1,X[153]=0,P[153]=1,S[153]=0,M[153]=1,I[102]=0,k[102]=-1,R[102]=1,H[102]=1,D[102]=0,Z[102]=0,F[102]=0,N[102]=1,U[102]=0,z[102]=-1,E[102]=0,j[102]=1,T[155]=0,C[155]=-1,A[155]=0,L[155]=1,V[155]=0,B[155]=1,G[155]=0,q[155]=1,X[155]=1,P[155]=-1,S[155]=0,M[155]=0,I[103]=0,k[103]=1,R[103]=0,H[103]=-1,D[103]=0,Z[103]=1,F[103]=0,N[103]=-1,U[103]=1,z[103]=1,E[103]=0,j[103]=0,T[152]=0,C[152]=1,A[152]=1,H[152]=-1,D[152]=0,Z[152]=1,L[152]=-1,V[152]=0,B[152]=0,G[152]=0,q[152]=-1,X[152]=0,F[152]=0,N[152]=-1,U[152]=1,P[152]=1,S[152]=0,M[152]=1,T[156]=0,C[156]=-1,A[156]=1,H[156]=1,D[156]=0,Z[156]=1,L[156]=-1,V[156]=0,B[156]=0,G[156]=0,q[156]=-1,X[156]=0,F[156]=0,N[156]=1,U[156]=1,P[156]=-1,S[156]=0,M[156]=1,T[137]=0,C[137]=1,A[137]=1,I[137]=0,k[137]=1,R[137]=0,L[137]=-1,V[137]=0,B[137]=0,G[137]=0,q[137]=-1,X[137]=0,z[137]=1,E[137]=0,j[137]=0,P[137]=1,S[137]=0,M[137]=1,T[139]=0,C[139]=1,A[139]=1,I[139]=0,k[139]=-1,R[139]=0,L[139]=1,V[139]=0,B[139]=0,G[139]=0,q[139]=1,X[139]=0,z[139]=-1,E[139]=0,j[139]=0,P[139]=1,S[139]=0,M[139]=1,T[98]=0,C[98]=-1,A[98]=0,I[98]=0,k[98]=-1,R[98]=1,H[98]=1,D[98]=0,Z[98]=0,L[98]=1,V[98]=0,B[98]=1,F[98]=0,N[98]=1,U[98]=0,z[98]=-1,E[98]=0,j[98]=1,T[99]=0,C[99]=1,A[99]=0,I[99]=0,k[99]=-1,R[99]=1,H[99]=1,D[99]=0,Z[99]=0,L[99]=-1,V[99]=0,B[99]=1,F[99]=0,N[99]=-1,U[99]=0,z[99]=1,E[99]=0,j[99]=1,I[38]=0,k[38]=-1,R[38]=1,H[38]=1,D[38]=0,Z[38]=0,G[38]=0,q[38]=1,X[38]=1,F[38]=0,N[38]=1,U[38]=0,z[38]=-1,E[38]=0,j[38]=1,P[38]=-1,S[38]=0,M[38]=0,I[39]=0,k[39]=1,R[39]=1,H[39]=-1,D[39]=0,Z[39]=0,G[39]=0,q[39]=-1,X[39]=1,F[39]=0,N[39]=1,U[39]=0,z[39]=-1,E[39]=0,j[39]=1,P[39]=1,S[39]=0,M[39]=0;var $=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},W=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},Y=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},K=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},J=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},Q=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},ee=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},te=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},re=[],ne=[],oe=[],ie=[],le=[],ae=[],se=[],ce=[];ie[1]=le[1]=18,ie[169]=le[169]=18,oe[4]=ne[4]=12,oe[166]=ne[166]=12,re[16]=ce[16]=4,re[154]=ce[154]=4,ae[64]=se[64]=22,ae[106]=se[106]=22,oe[2]=ae[2]=17,ie[2]=le[2]=18,oe[168]=ae[168]=17,ie[168]=le[168]=18,re[8]=ie[8]=9,ne[8]=oe[8]=12,re[162]=ie[162]=9,ne[162]=oe[162]=12,re[32]=ce[32]=4,ne[32]=se[32]=1,re[138]=ce[138]=4,ne[138]=se[138]=1,le[128]=ce[128]=21,ae[128]=se[128]=22,le[42]=ce[42]=21,ae[42]=se[42]=22,ne[5]=le[5]=14,ne[165]=le[165]=14,oe[20]=ce[20]=6,oe[150]=ce[150]=6,re[80]=ae[80]=11,re[90]=ae[90]=11,ie[65]=se[65]=3,ie[105]=se[105]=3,re[160]=ae[160]=11,ne[160]=le[160]=14,re[10]=ae[10]=11,ne[10]=le[10]=14,oe[130]=ce[130]=6,ie[130]=se[130]=3,oe[40]=ce[40]=6,ie[40]=se[40]=3,ne[101]=se[101]=1,ne[69]=se[69]=1,le[149]=ce[149]=21,le[21]=ce[21]=21,oe[86]=ae[86]=17,oe[84]=ae[84]=17,re[89]=ie[89]=9,re[81]=ie[81]=9,re[96]=se[96]=0,ne[96]=ae[96]=15,re[74]=se[74]=0,ne[74]=ae[74]=15,re[24]=oe[24]=8,ie[24]=ce[24]=7,re[146]=oe[146]=8,ie[146]=ce[146]=7,ne[6]=ae[6]=15,oe[6]=le[6]=16,ne[164]=ae[164]=15,oe[164]=le[164]=16,ie[129]=ce[129]=7,le[129]=se[129]=20,ie[41]=ce[41]=7,le[41]=se[41]=20,oe[66]=se[66]=2,ie[66]=ae[66]=19,oe[104]=se[104]=2,ie[104]=ae[104]=19,re[144]=le[144]=10,ae[144]=ce[144]=23,re[26]=le[26]=10,ae[26]=ce[26]=23,ne[36]=ce[36]=5,oe[36]=se[36]=2,ne[134]=ce[134]=5,oe[134]=se[134]=2,re[9]=le[9]=10,ne[9]=ie[9]=13,re[161]=le[161]=10,ne[161]=ie[161]=13,ne[37]=ce[37]=5,le[37]=se[37]=20,ne[133]=ce[133]=5,le[133]=se[133]=20,oe[148]=le[148]=16,ae[148]=ce[148]=23,oe[22]=le[22]=16,ae[22]=ce[22]=23,re[82]=oe[82]=8,ie[82]=ae[82]=19,re[88]=oe[88]=8,ie[88]=ae[88]=19,re[73]=se[73]=0,ne[73]=ie[73]=13,re[97]=se[97]=0,ne[97]=ie[97]=13,re[145]=ie[145]=9,le[145]=ce[145]=21,re[25]=ie[25]=9,le[25]=ce[25]=21,ne[70]=se[70]=1,oe[70]=ae[70]=17,ne[100]=se[100]=1,oe[100]=ae[100]=17,re[34]=ie[34]=9,ne[34]=oe[34]=12,le[34]=ce[34]=21,ae[34]=se[34]=22,re[136]=ce[136]=4,ne[136]=se[136]=1,oe[136]=ae[136]=17,ie[136]=le[136]=18,re[35]=ce[35]=4,ne[35]=oe[35]=12,ie[35]=le[35]=18,ae[35]=se[35]=22,re[153]=ce[153]=4,ie[153]=le[153]=18,ne[102]=oe[102]=12,ae[102]=se[102]=22,re[155]=ie[155]=9,le[155]=ce[155]=23,ne[103]=se[103]=1,oe[103]=ae[103]=17,re[152]=ce[152]=4,oe[152]=ae[152]=17,ie[152]=le[152]=18,re[156]=oe[156]=8,ie[156]=le[156]=18,ae[156]=ce[156]=23,re[137]=ce[137]=4,ne[137]=se[137]=1,ie[137]=le[137]=18,re[139]=ce[139]=4,ne[139]=ie[139]=13,le[139]=se[139]=20,re[98]=ie[98]=9,ne[98]=oe[98]=12,ae[98]=se[98]=22,re[99]=se[99]=0,ne[99]=oe[99]=12,ie[99]=ae[99]=19,ne[38]=oe[38]=12,le[38]=ce[38]=21,ae[38]=se[38]=22,ne[39]=ce[39]=5,oe[39]=le[39]=16,ae[39]=se[39]=22;var ue=[];function fe(e,t,r){return(e-t)/(r-t)}function pe(e){return e.constructor.toString().indexOf("Array")>-1}function he(e,t,r,n,o,i){for(var l=e.cells[r][t],a=l.cval_real,s=t+n,c=r+o,u=[],f=!1;!f;){if(void 0===e.cells[c]||void 0===e.cells[c][s])if(c-=o,s-=n,a=(l=e.cells[c][s]).cval_real,-1===o)if(0===i)if(a&_)u.push([s,c]),n=-1,o=0,i=0;else{if(!(a&x)){u.push([s+l.bottomright,c]),n=0,o=1,i=1,f=!0;break}u.push([s+1,c]),n=1,o=0,i=0}else{if(!(a&_)){if(a&x){u.push([s+l.bottomright,c]),n=0,o=1,i=1,f=!0;break}u.push([s+l.bottomleft,c]),n=0,o=1,i=0,f=!0;break}u.push([s,c]),n=-1,o=0,i=0}else if(1===o)if(0===i){if(!(a&O)){if(a&w){u.push([s+l.topleft,c+1]),n=0,o=-1,i=0,f=!0;break}u.push([s+l.topright,c+1]),n=0,o=-1,i=1,f=!0;break}u.push([s+1,c+1]),n=1,o=0,i=1}else u.push([s+1,c+1]),n=1,o=0,i=1;else if(-1===n)if(0===i){if(!(a&w)){if(a&_){u.push([s,c+l.leftbottom]),n=1,o=0,i=0,f=!0;break}u.push([s,c+l.lefttop]),n=1,o=0,i=1,f=!0;break}u.push([s,c+1]),n=0,o=1,i=0}else{if(!(a&w)){console.log("MarchingSquaresJS-isoBands: wtf");break}u.push([s,c+1]),n=0,o=1,i=0}else{if(1!==n){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===i){if(!(a&x)){u.push([s+1,c+l.rightbottom]),n=-1,o=0,i=0,f=!0;break}u.push([s+1,c]),n=0,o=-1,i=1}else{if(!(a&x)){if(a&O){u.push([s+1,c+l.righttop]),n=-1,o=0,i=1;break}u.push([s+1,c+l.rightbottom]),n=-1,o=0,i=0,f=!0;break}u.push([s+1,c]),n=0,o=-1,i=1}}else if(a=(l=e.cells[c][s]).cval_real,-1===n)if(0===i)if(void 0!==e.cells[c-1]&&void 0!==e.cells[c-1][s])n=0,o=-1,i=1;else{if(!(a&_)){u.push([s+l.bottomright,c]),n=0,o=1,i=1,f=!0;break}u.push([s,c])}else{if(!(a&w)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+s+","+c);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===n){if(0===i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[c+1]&&void 0!==e.cells[c+1][s])n=0,o=1,i=0;else{if(!(a&O)){u.push([s+l.topleft,c+1]),n=0,o=-1,i=0,f=!0;break}u.push([s+1,c+1]),n=1,o=0,i=1}}else if(-1===o){if(1!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[c][s+1])n=1,o=0,i=1;else{if(!(a&x)){u.push([s+1,c+l.righttop]),n=-1,o=0,i=1,f=!0;break}u.push([s+1,c]),n=0,o=-1,i=1}}else{if(1!==o){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[c][s-1])n=-1,o=0,i=0;else{if(!(a&w)){u.push([s,c+l.leftbottom]),n=1,o=0,i=0,f=!0;break}u.push([s,c+1]),n=0,o=1,i=0}}if(c+=o,(s+=n)===t&&c===r)break}return{path:u,i:s,j:c,x:n,y:o,o:i}}function ge(e){if(e.edges.length>0){var t=e.edges[e.edges.length-1],r=e.cval_real;switch(t){case 0:return r&O?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return r&x?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return r&x?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return r&_?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return r&O?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return r&x?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return r&x?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return r&_?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return r&x?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return r&_?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return r&_?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return r&w?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return r&x?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return r&_?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return r&_?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return r&w?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return r&x?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return r&w?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return r&_?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return r&w?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return r&w?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return r&O?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return r&w?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return r&O?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}function me(e,t,r,n){var o,i,l,a,s,c=e.cval;switch(t){case-1:0===n?(o=ne[c],l=I[c],a=k[c],s=R[c]):(o=re[c],l=T[c],a=C[c],s=A[c]);break;case 1:0===n?(o=le[c],l=G[c],a=q[c],s=X[c]):(o=ae[c],l=F[c],a=N[c],s=U[c]);break;default:switch(r){case-1:0===n?(o=se[c],l=z[c],a=E[c],s=j[c]):(o=ce[c],l=P[c],a=S[c],s=M[c]);break;case 1:0===n?(o=ie[c],l=L[c],a=V[c],s=B[c]):(o=oe[c],l=H[c],a=D[c],s=Z[c])}}if(i=e.edges.indexOf(o),void 0===e.edges[i])return null;switch(function(e,t){delete e.edges[t];for(var r=t+1;r<e.edges.length;r++)e.edges[r-1]=e.edges[r];e.edges.pop()}(e,i),c=e.cval_real,o){case 0:c&O?(t=e.topleft,r=1):(t=1,r=e.righttop);break;case 1:c&x?(t=1,r=e.rightbottom):(t=e.topleft,r=1);break;case 2:c&x?(t=e.topleft,r=1):(t=e.bottomright,r=0);break;case 3:c&_?(t=e.bottomleft,r=0):(t=e.topleft,r=1);break;case 4:c&O?(t=e.topright,r=1):(t=1,r=e.righttop);break;case 5:c&x?(t=1,r=e.rightbottom):(t=e.topright,r=1);break;case 6:c&x?(t=e.topright,r=1):(t=e.bottomright,r=0);break;case 7:c&_?(t=e.bottomleft,r=0):(t=e.topright,r=1);break;case 8:c&x?(t=1,r=e.righttop):(t=e.bottomright,r=0);break;case 9:c&_?(t=e.bottomleft,r=0):(t=1,r=e.righttop);break;case 10:c&_?(t=1,r=e.righttop):(t=0,r=e.leftbottom);break;case 11:c&w?(t=0,r=e.lefttop):(t=1,r=e.righttop);break;case 12:c&x?(t=1,r=e.rightbottom):(t=e.bottomright,r=0);break;case 13:c&_?(t=e.bottomleft,r=0):(t=1,r=e.rightbottom);break;case 14:c&_?(t=1,r=e.rightbottom):(t=0,r=e.leftbottom);break;case 15:c&w?(t=0,r=e.lefttop):(t=1,r=e.rightbottom);break;case 16:c&x?(t=0,r=e.leftbottom):(t=e.bottomright,r=0);break;case 17:c&w?(t=0,r=e.lefttop):(t=e.bottomright,r=0);break;case 18:c&_?(t=e.bottomleft,r=0):(t=0,r=e.leftbottom);break;case 19:c&w?(t=0,r=e.lefttop):(t=e.bottomleft,r=0);break;case 20:c&w?(t=0,r=e.leftbottom):(t=e.topleft,r=1);break;case 21:c&O?(t=e.topright,r=1):(t=0,r=e.leftbottom);break;case 22:c&w?(t=0,r=e.lefttop):(t=e.topleft,r=1);break;case 23:c&O?(t=e.topright,r=1):(t=0,r=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return void 0!==t&&void 0!==r&&void 0!==l&&void 0!==a&&void 0!==s||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(t+" "+r+" "+l+" "+a+" "+s)),{p:[t,r],x:l,y:a,o:s}}function ve(e,t,r){if(r=r||{},!s.isObject(r))throw new Error("options is invalid");var n=r.zProperty||"elevation",o=r.commonProperties||{},i=r.breaksProperties||[];if(a.collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks is not an Array");if(!s.isObject(o))throw new Error("commonProperties is not an Object");if(!Array.isArray(i))throw new Error("breaksProperties is not an Array");var l=function(e,t){if(t=t||{},!s.isObject(t))throw new Error("options is invalid");var r=t.zProperty||"elevation",n=t.flip,o=t.flags;a.collectionOf(e,"Point","input must contain Points");for(var i=function(e,t){var r={};return u.featureEach(e,(function(e){var t=a.getCoords(e)[1];r[t]||(r[t]=[]),r[t].push(e)})),Object.keys(r).map((function(e){return r[e].sort((function(e,t){return a.getCoords(e)[0]-a.getCoords(t)[0]}))})).sort((function(e,r){return t?a.getCoords(e[0])[1]-a.getCoords(r[0])[1]:a.getCoords(r[0])[1]-a.getCoords(e[0])[1]}))}(e,n),l=[],c=0;c<i.length;c++){for(var f=i[c],p=[],h=0;h<f.length;h++){var g=f[h];g.properties[r]?p.push(g.properties[r]):p.push(0),!0===o&&(g.properties.matrixPosition=[c,h])}l.push(p)}return l}(e,{zProperty:n,flip:!0}),c=function(e,t,r){for(var n=[],o=1;o<t.length;o++){var i=+t[o-1],l=+t[o],a=ye(de(b(e,i,l-i))),s={};s.groupedRings=a,s[r]=i+"-"+l,n.push(s)}return n}(l,t,n);c=function(e,t,r){var n=p.default(r),o=n[2]-n[0],i=n[3]-n[1],l=n[0],a=n[1],s=t[0].length-1,c=t.length-1,u=o/s,f=i/c,h=function(e){e[0]=e[0]*u+l,e[1]=e[1]*f+a};return e.forEach((function(e){e.groupedRings.forEach((function(e){e.forEach((function(e){e.forEach(h)}))}))})),e}(c,l,e);var f=c.map((function(e,t){if(i[t]&&!s.isObject(i[t]))throw new Error("Each mappedProperty is required to be an Object");var r=v.default({},o,i[t]);return r[n]=e[n],s.multiPolygon(e.groupedRings,r)}));return s.featureCollection(f)}function de(e){var t=[],r=[];e.forEach((function(e){var n=h.default(s.polygon([e]));r.push(n),t.push({ring:e,area:n})})),r.sort((function(e,t){return t-e}));var n=[];return r.forEach((function(e){for(var r=0;r<t.length;r++)if(t[r].area===e){n.push(t[r].ring),t.splice(r,1);break}})),n}function ye(e){for(var t=e.map((function(e){return{lrCoordinates:e,grouped:!1}})),r=[];!we(t);)for(var n=0;n<t.length;n++)if(!t[n].grouped){var o=[];o.push(t[n].lrCoordinates),t[n].grouped=!0;for(var i=s.polygon([t[n].lrCoordinates]),l=n+1;l<t.length;l++)t[l].grouped||be(s.polygon([t[l].lrCoordinates]),i)&&(o.push(t[l].lrCoordinates),t[l].grouped=!0);r.push(o)}return r}function be(e,t){for(var r=m.default(e),n=0;n<r.features.length;n++)if(!g.default(r.features[n],t))return!1;return!0}function we(e){for(var t=0;t<e.length;t++)if(!1===e[t].grouped)return!1;return!0}ue[1]=ue[169]=$,ue[4]=ue[166]=W,ue[16]=ue[154]=Y,ue[64]=ue[106]=K,ue[168]=ue[2]=J,ue[162]=ue[8]=Q,ue[138]=ue[32]=ee,ue[42]=ue[128]=te,ue[5]=ue[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},ue[20]=ue[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},ue[80]=ue[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},ue[65]=ue[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ue[160]=ue[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},ue[130]=ue[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},ue[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ue[101]=ue[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},ue[149]=ue[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},ue[86]=ue[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},ue[89]=ue[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},ue[96]=ue[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},ue[24]=ue[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},ue[6]=ue[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},ue[129]=ue[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},ue[66]=ue[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ue[144]=ue[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ue[36]=ue[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},ue[9]=ue[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},ue[37]=ue[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ue[148]=ue[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ue[82]=ue[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},ue[73]=ue[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ue[145]=ue[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ue[70]=ue[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ue[34]=function(e){return[te(e),Q(e)]},ue[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},ue[136]=function(e){return[ee(e),J(e)]},ue[153]=function(e){return[Y(e),$(e)]},ue[102]=function(e){return[W(e),K(e)]},ue[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ue[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ue[152]=function(e){return[Y(e),J(e)]},ue[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ue[137]=function(e){return[ee(e),$(e)]},ue[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ue[98]=function(e){return[Q(e),K(e)]},ue[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ue[38]=function(e){return[W(e),te(e)]},ue[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},e.exports=ve,e.exports.default=ve},7928:(e,t,r)=>{"use strict";var n=r(9705),o=r(1540),i=r(611),l=r(4102),a=r(7418);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=s(n),u=s(a),f={successCallback:null,verbose:!1},p={};function h(e,t,r){r=r||{};for(var n=Object.keys(f),o=0;o<n.length;o++){var i=n[o],l=r[i];l=null!=l?l:f[i],p[i]=l}p.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+t);var a,s,c,u=(a=function(e,t){for(var r=e.length-1,n=e[0].length-1,o={rows:r,cols:n,cells:[]},i=0;i<r;++i){o.cells[i]=[];for(var l=0;l<n;++l){var a=0,s=e[i+1][l],c=e[i+1][l+1],u=e[i][l+1],f=e[i][l];if(!(isNaN(s)||isNaN(c)||isNaN(u)||isNaN(f))){a|=s>=t?8:0,a|=c>=t?4:0,a|=u>=t?2:0;var p,h,m,v,d=!1;if(5==(a|=f>=t?1:0)||10===a){var y=(s+c+u+f)/4;5===a&&y<t?(a=10,d=!0):10===a&&y<t&&(a=5,d=!0)}0!==a&&15!==a&&(p=h=m=v=.5,1===a?(m=1-g(t,s,f),h=1-g(t,u,f)):2===a?(h=g(t,f,u),v=1-g(t,c,u)):3===a?(m=1-g(t,s,f),v=1-g(t,c,u)):4===a?(p=g(t,s,c),v=g(t,u,c)):5===a?(p=g(t,s,c),v=g(t,u,c),h=1-g(t,u,f),m=1-g(t,s,f)):6===a?(h=g(t,f,u),p=g(t,s,c)):7===a?(m=1-g(t,s,f),p=g(t,s,c)):8===a?(m=g(t,f,s),p=1-g(t,c,s)):9===a?(h=1-g(t,u,f),p=1-g(t,c,s)):10===a?(p=1-g(t,c,s),v=1-g(t,c,u),h=g(t,f,u),m=g(t,f,s)):11===a?(p=1-g(t,c,s),v=1-g(t,c,u)):12===a?(m=g(t,f,s),v=g(t,u,c)):13===a?(h=1-g(t,u,f),v=g(t,u,c)):14===a?(m=g(t,f,s),h=g(t,f,u)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),o.cells[i][l]={cval:a,flipped:d,top:p,right:v,bottom:h,left:m})}}}return o}(e,t),s=[],c=0,1e-7,a.cells.forEach((function(e,t){e.forEach((function(e,r){if(void 0!==e&&5!==(p=e).cval&&10!==p.cval&&!m(e)){var n=function(e,t,r){var n,o,i=e.length,l=[],a=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],s=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],u=e[t][r],f=u.cval,p=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][f],h=d(u,p);l.push([r+h[0],t+h[1]]),h=d(u,p=c[f]),l.push([r+h[0],t+h[1]]),v(u);for(var g=r+a[f],m=t+s[f],y=f;g>=0&&m>=0&&m<i&&(g!=r||m!=t)&&void 0!==(u=e[m][g]);){if(0===(f=u.cval)||15===f)return{path:l,info:"mergeable"};p=c[f],n=a[f],o=s[f],5!==f&&10!==f||(5===f?u.flipped?-1===s[y]?(p="left",n=-1,o=0):(p="right",n=1,o=0):-1===a[y]&&(p="bottom",n=0,o=-1):10===f&&(u.flipped?-1===a[y]?(p="top",n=0,o=1):(p="bottom",n=0,o=-1):1===s[y]&&(p="left",n=-1,o=0))),h=d(u,p),l.push([g+h[0],m+h[1]]),v(u),g+=n,m+=o,y=f}return{path:l,info:"closed"}}(a.cells,t,r),o=!1;if("mergeable"===n.info)for(var i=n.path[n.path.length-1][0],l=n.path[n.path.length-1][1],u=c-1;u>=0;u--)if(Math.abs(s[u][0][0]-i)<=1e-7&&Math.abs(s[u][0][1]-l)<=1e-7){for(var f=n.path.length-2;f>=0;--f)s[u].unshift(n.path[f]);o=!0;break}o||(s[c++]=n.path)}var p}))})),s);return"function"==typeof p.successCallback&&p.successCallback(u),u}function g(e,t,r){return(e-t)/(r-t)}function m(e){return 0===e.cval||15===e.cval}function v(e){m(e)||5===e.cval||10===e.cval||(e.cval=15)}function d(e,t){return"top"===t?[e.top,1]:"bottom"===t?[e.bottom,0]:"right"===t?[1,e.right]:"left"===t?[0,e.left]:void 0}function y(e,t,r){if(r=r||{},!l.isObject(r))throw new Error("options is invalid");var n=r.zProperty||"elevation",a=r.commonProperties||{},s=r.breaksProperties||[];if(i.collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks must be an Array");if(!l.isObject(a))throw new Error("commonProperties must be an Object");if(!Array.isArray(s))throw new Error("breaksProperties must be an Array");var f=function(e,t){if(t=t||{},!l.isObject(t))throw new Error("options is invalid");var r=t.zProperty||"elevation",n=t.flip,a=t.flags;i.collectionOf(e,"Point","input must contain Points");for(var s=function(e,t){var r={};return o.featureEach(e,(function(e){var t=i.getCoords(e)[1];r[t]||(r[t]=[]),r[t].push(e)})),Object.keys(r).map((function(e){return r[e].sort((function(e,t){return i.getCoords(e)[0]-i.getCoords(t)[0]}))})).sort((function(e,r){return t?i.getCoords(e[0])[1]-i.getCoords(r[0])[1]:i.getCoords(r[0])[1]-i.getCoords(e[0])[1]}))}(e,n),c=[],u=0;u<s.length;u++){for(var f=s[u],p=[],h=0;h<f.length;h++){var g=f[h];g.properties[r]?p.push(g.properties[r]):p.push(0),!0===a&&(g.properties.matrixPosition=[u,h])}c.push(p)}return c}(e,{zProperty:n,flip:!0}),p=function(e,t,r,n,o){for(var i=[],a=1;a<t.length;a++){var s=+t[a],c=u.default({},n,o[a]);c[r]=s;var f=l.multiLineString(h(e,s),c);i.push(f)}return i}(f,t,n,a,s),g=function(e,t,r){var n=c.default(r),i=n[2]-n[0],l=n[3]-n[1],a=n[0],s=n[1],u=t[0].length-1,f=t.length-1,p=i/u,h=l/f,g=function(e){e[0]=e[0]*p+a,e[1]=e[1]*h+s};return e.forEach((function(e){o.coordEach(e,g)})),e}(p,f,e);return l.featureCollection(g)}e.exports=y,e.exports.default=y},1641:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102);t.default=function(e){var t,r,o={type:"FeatureCollection",features:[]};if("LineString"===(r="Feature"===e.type?e.geometry:e).type)t=[r.coordinates];else if("MultiLineString"===r.type)t=r.coordinates;else if("MultiPolygon"===r.type)t=[].concat.apply([],r.coordinates);else{if("Polygon"!==r.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");t=r.coordinates}return t.forEach((function(e){t.forEach((function(t){for(var r=0;r<e.length-1;r++)for(var i=r;i<t.length-1;i++){if(e===t){if(1===Math.abs(r-i))continue;if(0===r&&i===e.length-2&&e[r][0]===e[e.length-1][0]&&e[r][1]===e[e.length-1][1])continue}var l=(a=e[r][0],s=e[r][1],c=e[r+1][0],u=e[r+1][1],f=t[i][0],p=t[i][1],h=t[i+1][0],g=t[i+1][1],m=void 0,v=void 0,d=void 0,y=void 0,b=void 0,b={x:null,y:null,onLine1:!1,onLine2:!1},0==(m=(g-p)*(c-a)-(h-f)*(u-s))?null!==b.x&&null!==b.y&&b:(y=(c-a)*(v=s-p)-(u-s)*(d=a-f),v=((h-f)*v-(g-p)*d)/m,d=y/m,b.x=a+v*(c-a),b.y=s+v*(u-s),v>=0&&v<=1&&(b.onLine1=!0),d>=0&&d<=1&&(b.onLine2=!0),!(!b.onLine1||!b.onLine2)&&[b.x,b.y]));l&&o.features.push(n.point([l[0],l[1]]))}var a,s,c,u,f,p,h,g,m,v,d,y,b}))})),o}},91:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1013)),i=r(1540);t.default=function(e,t){return void 0===t&&(t={}),i.segmentReduce(e,(function(e,r){var n=r.geometry.coordinates;return e+o.default(n[0],n[1],t)}),0)}},7272:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(265)),i=n(r(3737)),l=r(4102);function a(e){var t=e%360;return t<0&&(t+=360),t}t.default=function(e,t,r,n,s){void 0===s&&(s={});var c=s.steps||64,u=a(r),f=a(n),p=Array.isArray(e)||"Feature"!==e.type?{}:e.properties;if(u===f)return l.lineString(o.default(e,t,s).geometry.coordinates[0],p);for(var h=u,g=u<f?f:f+360,m=h,v=[],d=0;m<g;)v.push(i.default(e,t,m,s).geometry.coordinates),m=h+360*++d/c;return m>g&&v.push(i.default(e,t,g,s).geometry.coordinates),l.lineString(v,p)}},9632:(e,t,r)=>{"use strict";var n=r(91),o=r(1378),i=r(1540),l=r(4102);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(n),c=a(o);function u(e,t,r){if(r=r||{},!l.isObject(r))throw new Error("options is invalid");var n=r.units,o=r.reverse;if(!e)throw new Error("geojson is required");if(t<=0)throw new Error("segmentLength must be greater than 0");var a=[];return i.flattenEach(e,(function(e){o&&(e.geometry.coordinates=e.geometry.coordinates.reverse()),function(e,t,r,n){var o=s.default(e,{units:r});if(o<=t)return n(e);var i=o/t;Number.isInteger(i)||(i=Math.floor(i)+1);for(var l=0;l<i;l++)n(c.default(e,t*l,t*(l+1),{units:r}))}(e,t,n,(function(e){a.push(e)}))})),l.featureCollection(a)}e.exports=u,e.exports.default=u},3663:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4102),i=r(611),l=n(r(4590)),a=r(1540),s=n(r(1787));function c(e,t){var r=i.getCoords(e),n=i.getCoords(t);if(2!==r.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==n.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var l=r[0][0],a=r[0][1],s=r[1][0],c=r[1][1],u=n[0][0],f=n[0][1],p=n[1][0],h=n[1][1],g=(h-f)*(s-l)-(p-u)*(c-a);if(0===g)return null;var m=((p-u)*(a-f)-(h-f)*(l-u))/g,v=((s-l)*(a-f)-(c-a)*(l-u))/g;if(m>=0&&m<=1&&v>=0&&v<=1){var d=l+m*(s-l),y=a+m*(c-a);return o.point([d,y])}return null}t.default=function(e,t){var r={},n=[];if("LineString"===e.type&&(e=o.feature(e)),"LineString"===t.type&&(t=o.feature(t)),"Feature"===e.type&&"Feature"===t.type&&null!==e.geometry&&null!==t.geometry&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var u=c(e,t);return u&&n.push(u),o.featureCollection(n)}var f=s.default();return f.load(l.default(t)),a.featureEach(l.default(e),(function(e){a.featureEach(f.search(e),(function(t){var o=c(e,t);if(o){var l=i.getCoords(o).join(",");r[l]||(r[l]=!0,n.push(o))}}))})),o.featureCollection(n)}},5668:(e,t,r)=>{"use strict";var n=r(1540),o=r(611),i=r(4102);function l(e){var t=e[0],r=e[1];return[r[0]-t[0],r[1]-t[1]]}function a(e,t){return e[0]*t[1]-t[0]*e[1]}function s(e,t,r){if(r=r||{},!i.isObject(r))throw new Error("options is invalid");var l=r.units;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");var a=o.getType(e),s=e.properties;switch(a){case"LineString":return c(e,t,l);case"MultiLineString":var u=[];return n.flattenEach(e,(function(e){u.push(c(e,t,l).geometry.coordinates)})),i.multiLineString(u,s);default:throw new Error("geometry "+a+" is not supported")}}function c(e,t,r){var n=[],s=i.lengthToDegrees(t,r),c=o.getCoords(e),u=[];return c.forEach((function(e,t){if(t!==c.length-1){var r=(h=e,g=c[t+1],m=s,v=Math.sqrt((h[0]-g[0])*(h[0]-g[0])+(h[1]-g[1])*(h[1]-g[1])),d=h[0]+m*(g[1]-h[1])/v,y=g[0]+m*(g[1]-h[1])/v,[[d,h[1]+m*(h[0]-g[0])/v],[y,g[1]+m*(h[0]-g[0])/v]]);if(n.push(r),t>0){var o=n[t-1],i=!function(e,t){return 0===a(l(e),l(t))}(f=r,p=o)&&function(e,t){var r,n,o=e[0],i=l(e),s=t[0],c=l(t),u=a(i,c),f=function(e,t){return[e[0]+t[0],e[1]+t[1]]}(o,function(e,t){return[e*t[0],e*t[1]]}(a((n=o,[(r=s)[0]-n[0],r[1]-n[1]]),c)/u,i));return f}(f,p);!1!==i&&(o[1]=i,r[0]=i),u.push(o[0]),t===c.length-2&&(u.push(r[0]),u.push(r[1]))}2===c.length&&(u.push(r[0]),u.push(r[1]))}var f,p,h,g,m,v,d,y})),i.lineString(u,e.properties)}e.exports=s,e.exports.default=s},273:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1787)),i=n(r(4590)),l=n(r(3807)),a=n(r(2793)),s=r(611),c=r(1540),u=r(4102),f=n(r(251));function p(e,t){var r=s.getCoords(t),n=s.getCoords(e),o=n[0],i=n[n.length-1],l=e.geometry.coordinates;return f.default(r[0],o)?l.unshift(r[1]):f.default(r[0],i)?l.push(r[1]):f.default(r[1],o)?l.unshift(r[0]):f.default(r[1],i)&&l.push(r[0]),e}t.default=function(e,t,r){if(void 0===r&&(r={}),r=r||{},!u.isObject(r))throw new Error("options is invalid");var n,h=r.tolerance||0,g=[],m=o.default(),v=i.default(e);return m.load(v),c.segmentEach(t,(function(e){var t=!1;e&&(c.featureEach(m.search(e),(function(r){if(!1===t){var o=s.getCoords(e).sort(),i=s.getCoords(r).sort();f.default(o,i)||(0===h?a.default(o[0],r)&&a.default(o[1],r):l.default(r,o[0]).properties.dist<=h&&l.default(r,o[1]).properties.dist<=h)?(t=!0,n=n?p(n,e):e):(0===h?a.default(i[0],e)&&a.default(i[1],e):l.default(e,i[0]).properties.dist<=h&&l.default(e,i[1]).properties.dist<=h)&&(n=n?p(n,r):r)}})),!1===t&&n&&(g.push(n),n=void 0))})),n&&g.push(n),u.featureCollection(g)}},4590:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102),o=r(611),i=r(1540);t.default=function(e){if(!e)throw new Error("geojson is required");var t=[];return i.flattenEach(e,(function(e){!function(e,t){var r=[],i=e.geometry;if(null!==i){switch(i.type){case"Polygon":r=o.getCoords(i);break;case"LineString":r=[o.getCoords(i)]}r.forEach((function(r){var o=function(e,t){var r=[];return e.reduce((function(e,o){var i,l,a,s,c,u,f=n.lineString([e,o],t);return f.bbox=(l=o,a=(i=e)[0],s=i[1],[a<(c=l[0])?a:c,s<(u=l[1])?s:u,a>c?a:c,s>u?s:u]),r.push(f),o})),r}(r,e.properties);o.forEach((function(e){e.id=t.length,t.push(e)}))}))}}(e,t)})),n.featureCollection(t)}},1378:(e,t,r)=>{"use strict";var n=r(1208),o=r(1013),i=r(3737),l=r(4102);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(n),c=a(o),u=a(i);function f(e,t,r,n){if(n=n||{},!l.isObject(n))throw new Error("options is invalid");var o,i=[];if("Feature"===e.type)o=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");o=e.coordinates}for(var a,f,p,h=o.length,g=0,m=0;m<o.length&&!(t>=g&&m===o.length-1);m++){if(g>t&&0===i.length){if(!(a=t-g))return i.push(o[m]),l.lineString(i);f=s.default(o[m],o[m-1])-180,p=u.default(o[m],a,f,n),i.push(p.geometry.coordinates)}if(g>=r)return(a=r-g)?(f=s.default(o[m],o[m-1])-180,p=u.default(o[m],a,f,n),i.push(p.geometry.coordinates),l.lineString(i)):(i.push(o[m]),l.lineString(i));if(g>=t&&i.push(o[m]),m===o.length-1)return l.lineString(i);g+=c.default(o[m],o[m+1],n)}if(g<t&&o.length===h)throw new Error("Start position is beyond line");var v=o[o.length-1];return l.lineString([v,v])}e.exports=f,e.exports.default=f},4792:(e,t,r)=>{"use strict";var n=r(611),o=r(4102);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=i(r(3807));function a(e,t,r){var i=n.getCoords(r);if("LineString"!==n.getType(r))throw new Error("line must be a LineString");for(var a,s=l.default(r,e),c=l.default(r,t),u=[(a=s.properties.index<=c.properties.index?[s,c]:[c,s])[0].geometry.coordinates],f=a[0].properties.index+1;f<a[1].properties.index+1;f++)u.push(i[f]);return u.push(a[1].geometry.coordinates),o.lineString(u,r.properties)}e.exports=a,e.exports.default=a},7477:(e,t,r)=>{"use strict";var n=r(1787),o=r(5077),i=r(9705),l=r(5608),a=r(4590),s=r(3663),c=r(3807),u=r(611),f=r(1540),p=r(4102);function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var g=h(n),m=h(o),v=h(i),d=h(l),y=h(a),b=h(s),w=h(c);function O(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var r=u.getType(e),n=u.getType(t);if("LineString"!==r)throw new Error("line must be LineString");if("FeatureCollection"===n)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===n)throw new Error("splitter cannot be a GeometryCollection");var o=d.default(t,{precision:7});switch(n){case"Point":return _(e,o);case"MultiPoint":return x(e,o);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return x(e,b.default(e,o))}}function x(e,t){var r=[],n=g.default();return f.flattenEach(t,(function(t){if(r.forEach((function(e,t){e.id=t})),r.length){var o=n.search(t);if(o.features.length){var i=z(t,o);r=r.filter((function(e){return e.id!==i.id})),n.remove(i),f.featureEach(_(i,t),(function(e){r.push(e),n.insert(e)}))}}else(r=_(e,t).features).forEach((function(e){e.bbox||(e.bbox=m.default(v.default(e)))})),n.load(p.featureCollection(r))})),p.featureCollection(r)}function _(e,t){var r=[],n=u.getCoords(e)[0],o=u.getCoords(e)[e.geometry.coordinates.length-1];if(E(n,u.getCoord(t))||E(o,u.getCoord(t)))return p.featureCollection([e]);var i=g.default(),l=y.default(e);i.load(l);var a=i.search(t);if(!a.features.length)return p.featureCollection([e]);var s=z(t,a),c=[n],h=f.featureReduce(l,(function(e,n,o){var i=u.getCoords(n)[1],l=u.getCoord(t);return o===s.id?(e.push(l),r.push(p.lineString(e)),E(l,i)?[l]:[l,i]):(e.push(i),e)}),c);return h.length>1&&r.push(p.lineString(h)),p.featureCollection(r)}function z(e,t){if(!t.features.length)throw new Error("lines must contain features");if(1===t.features.length)return t.features[0];var r,n=1/0;return f.featureEach(t,(function(t){var o=w.default(t,e).properties.dist;o<n&&(r=t,n=o)})),r}function E(e,t){return e[0]===t[0]&&e[1]===t[1]}e.exports=O,e.exports.default=O},1933:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9705)),i=r(611),l=r(4102),a=n(r(6565));function s(e,t,r,n){t=t||("Feature"===e.type?e.properties:{});var a=i.getGeom(e),s=a.coordinates,u=a.type;if(!s.length)throw new Error("line must contain coordinates");switch(u){case"LineString":return r&&(s=c(s)),l.polygon([s],t);case"MultiLineString":var f=[],p=0;return s.forEach((function(e){if(r&&(e=c(e)),n){var t=(a=(i=o.default(l.lineString(e)))[0],s=i[1],u=i[2],h=i[3],Math.abs(a-u)*Math.abs(s-h));t>p?(f.unshift(e),p=t):f.push(e)}else f.push(e);var i,a,s,u,h})),l.polygon(f,t);default:throw new Error("geometry type "+u+" is not supported")}}function c(e){var t=e[0],r=t[0],n=t[1],o=e[e.length-1],i=o[0],l=o[1];return r===i&&n===l||e.push(t),e}t.default=function(e,t){var r,n,o;void 0===t&&(t={});var c=t.properties,u=null===(r=t.autoComplete)||void 0===r||r,f=null===(n=t.orderCoords)||void 0===n||n;if(null!==(o=t.mutate)&&void 0!==o&&o||(e=a.default(e)),"FeatureCollection"===e.type){var p=[];return e.features.forEach((function(e){p.push(i.getCoords(s(e,{},u,f)))})),l.multiPolygon(p,c)}return s(e,c,u,f)}},482:(e,t,r)=>{"use strict";var n=r(4102);function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(r(2676));function l(e,t){var r,o=function(e){var t=e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return n.polygon(t)}(t);return("FeatureCollection"===e.type?a(2===(r=e).features.length?i.default.union(r.features[0].geometry.coordinates,r.features[1].geometry.coordinates):i.default.union.apply(i.default,r.features.map((function(e){return e.geometry.coordinates})))):a(i.default.union(e.geometry.coordinates))).geometry.coordinates.forEach((function(e){o.geometry.coordinates.push(e[0])})),o}function a(e){return n.multiPolygon(e)}e.exports=l,e.exports.default=l},1540:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102);function o(e,t,r){if(null!==e)for(var n,i,l,a,s,c,u,f,p=0,h=0,g=e.type,m="FeatureCollection"===g,v="Feature"===g,d=m?e.features.length:1,y=0;y<d;y++){s=(f=!!(u=m?e.features[y].geometry:v?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<s;b++){var w=0,O=0;if(null!==(a=f?u.geometries[b]:u)){c=a.coordinates;var x=a.type;switch(p=!r||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===t(c,h,y,w,O))return!1;h++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<c.length;n++){if(!1===t(c[n],h,y,w,O))return!1;h++,"MultiPoint"===x&&w++}"LineString"===x&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<c.length;n++){for(i=0;i<c[n].length-p;i++){if(!1===t(c[n][i],h,y,w,O))return!1;h++}"MultiLineString"===x&&w++,"Polygon"===x&&O++}"Polygon"===x&&w++;break;case"MultiPolygon":for(n=0;n<c.length;n++){for(O=0,i=0;i<c[n].length;i++){for(l=0;l<c[n][i].length-p;l++){if(!1===t(c[n][i][l],h,y,w,O))return!1;h++}O++}w++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===o(a.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function a(e,t){var r,n,o,i,l,a,s,c,u,f,p=0,h="FeatureCollection"===e.type,g="Feature"===e.type,m=h?e.features.length:1;for(r=0;r<m;r++){for(a=h?e.features[r].geometry:g?e.geometry:e,c=h?e.features[r].properties:g?e.properties:{},u=h?e.features[r].bbox:g?e.bbox:void 0,f=h?e.features[r].id:g?e.id:void 0,l=(s=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,o=0;o<l;o++)if(null!==(i=s?a.geometries[o]:a))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,c,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,c,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,c,u,f))return!1;p++}}function s(e,t){a(e,(function(e,r,o,i,l){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t(n.feature(e,o,{bbox:i,id:l}),r,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var c=0;c<e.coordinates.length;c++){var u={type:a,coordinates:e.coordinates[c]};if(!1===t(n.feature(u,o),r,c))return!1}}))}function c(e,t){s(e,(function(e,r,i){var l=0;if(e.geometry){var a=e.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var s,c=0,u=0,f=0;return!1!==o(e,(function(o,a,p,h,g){if(void 0===s||r>c||h>u||g>f)return s=o,c=r,u=h,f=g,void(l=0);var m=n.lineString([s,o],e.properties);if(!1===t(m,r,i,g,l))return!1;l++,s=o}))&&void 0}}}))}function u(e,t){if(!e)throw new Error("geojson is required");s(e,(function(e,r,o){if(null!==e.geometry){var i=e.geometry.type,l=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,r,o,0,0))return!1;break;case"Polygon":for(var a=0;a<l.length;a++)if(!1===t(n.lineString(l[a],e.properties),r,o,a))return!1}}}))}t.coordAll=function(e){var t=[];return o(e,(function(e){t.push(e)})),t},t.coordEach=o,t.coordReduce=function(e,t,r,n){var i=r;return o(e,(function(e,n,o,l,a){i=0===n&&void 0===r?e:t(i,e,n,o,l,a)}),n),i},t.featureEach=l,t.featureReduce=function(e,t,r){var n=r;return l(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n},t.findPoint=function(e,t){if(t=t||{},!n.isObject(t))throw new Error("options is invalid");var r,o=t.featureIndex||0,i=t.multiFeatureIndex||0,l=t.geometryIndex||0,a=t.coordIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),s=s||e.features[o].properties,r=e.features[o].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":return n.point(c,s,t);case"MultiPoint":return i<0&&(i=c.length+i),n.point(c[i],s,t);case"LineString":return a<0&&(a=c.length+a),n.point(c[a],s,t);case"Polygon":return l<0&&(l=c.length+l),a<0&&(a=c[l].length+a),n.point(c[l][a],s,t);case"MultiLineString":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a),n.point(c[i][a],s,t);case"MultiPolygon":return i<0&&(i=c.length+i),l<0&&(l=c[i].length+l),a<0&&(a=c[i][l].length-a),n.point(c[i][l][a],s,t)}throw new Error("geojson is invalid")},t.findSegment=function(e,t){if(t=t||{},!n.isObject(t))throw new Error("options is invalid");var r,o=t.featureIndex||0,i=t.multiFeatureIndex||0,l=t.geometryIndex||0,a=t.segmentIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),s=s||e.features[o].properties,r=e.features[o].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=c.length+a-1),n.lineString([c[a],c[a+1]],s,t);case"Polygon":return l<0&&(l=c.length+l),a<0&&(a=c[l].length+a-1),n.lineString([c[l][a],c[l][a+1]],s,t);case"MultiLineString":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a-1),n.lineString([c[i][a],c[i][a+1]],s,t);case"MultiPolygon":return i<0&&(i=c.length+i),l<0&&(l=c[i].length+l),a<0&&(a=c[i][l].length-a-1),n.lineString([c[i][l][a],c[i][l][a+1]],s,t)}throw new Error("geojson is invalid")},t.flattenEach=s,t.flattenReduce=function(e,t,r){var n=r;return s(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n},t.geomEach=a,t.geomReduce=function(e,t,r){var n=r;return a(e,(function(e,o,i,l,a){n=0===o&&void 0===r?e:t(n,e,o,i,l,a)})),n},t.lineEach=u,t.lineReduce=function(e,t,r){var n=r;return u(e,(function(e,o,i,l){n=0===o&&void 0===r?e:t(n,e,o,i,l)})),n},t.propEach=i,t.propReduce=function(e,t,r){var n=r;return i(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n},t.segmentEach=c,t.segmentReduce=function(e,t,r){var n=r,o=!1;return c(e,(function(e,i,l,a,s){n=!1===o&&void 0===r?e:t(n,e,i,l,a,s),o=!0})),n}},9034:(e,t,r)=>{"use strict";var n=r(1208),o=r(3737),i=r(1013);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=l(n),s=l(o),c=l(i);function u(e,t){var r=c.default(e,t),n=a.default(e,t);return s.default(e,r/2,n)}e.exports=u,e.exports.default=u},920:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(5366)),i=r(1540);function l(e){for(var t=0,r=0,n=e;r<n.length;r++)t+=n[r];return t/e.length}t.default=function(e,t){var r=t.inputField,n=t.threshold||1e5,a=t.p||2,s=t.binary||!1,c=t.alpha||-1,u=t.standardization||!0,f=o.default(e,{alpha:c,binary:s,p:a,standardization:u,threshold:n}),p=[];i.featureEach(e,(function(e){var t=e.properties||{};p.push(t[r])}));for(var h=l(p),g=function(e){for(var t=l(e),r=0,n=0,o=e;n<o.length;n++){var i=o[n];r+=Math.pow(i-t,2)}return r/e.length}(p),m=0,v=0,d=0,y=0,b=f.length,w=0;w<b;w++){for(var O=0,x=0;x<b;x++)m+=f[w][x]*(p[w]-h)*(p[x]-h),v+=f[w][x],d+=Math.pow(f[w][x]+f[x][w],2),O+=f[w][x]+f[x][w];y+=Math.pow(O,2)}var _=m/v/g,z=-1/(b-1),E=(b*b*(d*=.5)-b*y+v*v*3)/((b-1)*(b+1)*(v*v))-z*z,j=Math.sqrt(E);return{expectedMoranIndex:z,moranIndex:_,stdNorm:j,zNorm:(_-z)/j}}},3807:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1208)),i=n(r(1013)),l=n(r(3737)),a=n(r(3663)),s=r(1540),c=r(4102),u=r(611);t.default=function(e,t,r){void 0===r&&(r={});var n=c.point([1/0,1/0],{dist:1/0}),f=0;return s.flattenEach(e,(function(e){for(var s=u.getCoords(e),p=0;p<s.length-1;p++){var h=c.point(s[p]);h.properties.dist=i.default(t,h,r);var g=c.point(s[p+1]);g.properties.dist=i.default(t,g,r);var m=i.default(h,g,r),v=Math.max(h.properties.dist,g.properties.dist),d=o.default(h,g),y=l.default(t,v,d+90,r),b=l.default(t,v,d-90,r),w=a.default(c.lineString([y.geometry.coordinates,b.geometry.coordinates]),c.lineString([h.geometry.coordinates,g.geometry.coordinates])),O=null;w.features.length>0&&((O=w.features[0]).properties.dist=i.default(t,O,r),O.properties.location=f+i.default(h,O,r)),h.properties.dist<n.properties.dist&&((n=h).properties.index=p,n.properties.location=f),g.properties.dist<n.properties.dist&&((n=g).properties.index=p+1,n.properties.location=f+m),O&&O.properties.dist<n.properties.dist&&((n=O).properties.index=p),f+=m}})),n}},2059:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(611),i=r(1540),l=n(r(3892)),a=n(r(7418));t.default=function(e,t,r){void 0===r&&(r={});var n=r.units,s=r.properties||{},c=function(e){var t=[];switch(e.geometry?e.geometry.type:e.type){case"GeometryCollection":return i.geomEach(e,(function(e){"Point"===e.type&&t.push({type:"Feature",properties:{},geometry:e})})),{type:"FeatureCollection",features:t};case"FeatureCollection":return e.features=e.features.filter((function(e){return"Point"===e.geometry.type})),e;default:throw new Error("points must be a Point Collection")}}(e);if(!c.features.length)throw new Error("points must contain features");if(!t)throw new Error("line is required");if("LineString"!==o.getType(t))throw new Error("line must be a LineString");var u=1/0,f=null;return i.featureEach(c,(function(e){var r=l.default(e,t,{units:n});r<u&&(u=r,f=e)})),f&&(f.properties=a.default({dist:u},f.properties,s)),f}},6379:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(6565)),i=n(r(1013)),l=r(1540);t.default=function(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var r,n=1/0,a=0;return l.featureEach(t,(function(t,r){var o=i.default(e,t);o<n&&(a=r,n=o)})),(r=o.default(t.features[a])).properties.featureIndex=a,r.properties.distanceToPoint=n,r}},3377:(e,t,r)=>{"use strict";var n=r(611);function o(e,t){var r=n.getCoord(e),o=n.getGeom(t).coordinates[0];if(o.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=t.properties||{},l=i.a,a=i.b,s=i.c,c=r[0],u=r[1],f=o[0][0],p=o[0][1],h=void 0!==l?l:o[0][2],g=o[1][0],m=o[1][1],v=void 0!==a?a:o[1][2],d=o[2][0],y=o[2][1],b=void 0!==s?s:o[2][2];return(b*(c-f)*(u-m)+h*(c-g)*(u-y)+v*(c-d)*(u-p)-v*(c-f)*(u-y)-b*(c-g)*(u-p)-h*(c-d)*(u-m))/((c-f)*(u-m)+(c-g)*(u-y)+(c-d)*(u-p)-(c-f)*(u-y)-(c-g)*(u-p)-(c-d)*(u-m))}e.exports=o,e.exports.default=o},6813:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(2052)),i=n(r(1013)),l=r(4102);t.default=function(e,t,r){void 0===r&&(r={}),r.mask&&!r.units&&(r.units="kilometers");for(var n=[],a=e[0],s=e[1],c=e[2],u=e[3],f=t/i.default([a,s],[c,s],r)*(c-a),p=t/i.default([a,s],[a,u],r)*(u-s),h=c-a,g=u-s,m=Math.floor(h/f),v=(g-Math.floor(g/p)*p)/2,d=a+(h-m*f)/2;d<=c;){for(var y=s+v;y<=u;){var b=l.point([d,y],r.properties);r.mask?o.default(b,r.mask)&&n.push(b):n.push(b),y+=p}d+=f}return l.featureCollection(n)}},5771:(e,t,r)=>{"use strict";var n=r(3922),o=r(8230),i=r(6379),l=r(8147),a=r(4102);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=s(n),u=s(o),f=s(i),p=s(l);function h(e){for(var t=function(e){return"FeatureCollection"!==e.type?"Feature"!==e.type?a.featureCollection([a.feature(e)]):a.featureCollection([e]):e}(e),r=u.default(t),n=!1,o=0;!n&&o<t.features.length;){var i,l=t.features[o].geometry,s=!1;if("Point"===l.type)r.geometry.coordinates[0]===l.coordinates[0]&&r.geometry.coordinates[1]===l.coordinates[1]&&(n=!0);else if("MultiPoint"===l.type){var h=!1;for(i=0;!h&&i<l.coordinates.length;)r.geometry.coordinates[0]===l.coordinates[i][0]&&r.geometry.coordinates[1]===l.coordinates[i][1]&&(n=!0,h=!0),i++}else if("LineString"===l.type)for(i=0;!s&&i<l.coordinates.length-1;)g(r.geometry.coordinates[0],r.geometry.coordinates[1],l.coordinates[i][0],l.coordinates[i][1],l.coordinates[i+1][0],l.coordinates[i+1][1])&&(s=!0,n=!0),i++;else if("MultiLineString"===l.type)for(var m=0;m<l.coordinates.length;){s=!1,i=0;for(var v=l.coordinates[m];!s&&i<v.length-1;)g(r.geometry.coordinates[0],r.geometry.coordinates[1],v[i][0],v[i][1],v[i+1][0],v[i+1][1])&&(s=!0,n=!0),i++;m++}else"Polygon"!==l.type&&"MultiPolygon"!==l.type||p.default(r,l)&&(n=!0);o++}if(n)return r;var d=a.featureCollection([]);for(o=0;o<t.features.length;o++)d.features=d.features.concat(c.default(t.features[o]).features);return a.point(f.default(r,d).geometry.coordinates)}function g(e,t,r,n,o,i){return Math.sqrt((o-r)*(o-r)+(i-n)*(i-n))===Math.sqrt((e-r)*(e-r)+(t-n)*(t-n))+Math.sqrt((o-e)*(o-e)+(i-t)*(i-t))}e.exports=h,e.exports.default=h},3892:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1013)),i=r(4102),l=r(611),a=r(1540),s=n(r(6213));function c(e,t){return e[0]*t[0]+e[1]*t[1]}function u(e,t,r){return"planar"===r.method?s.default(e,t,r):o.default(e,t,r)}t.default=function(e,t,r){if(void 0===r&&(r={}),r.method||(r.method="geodesic"),r.units||(r.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=i.point(e):"Point"===e.type?e=i.feature(e):l.featureOf(e,"Point","point"),!t)throw new Error("line is required");Array.isArray(t)?t=i.lineString(t):"LineString"===t.type?t=i.feature(t):l.featureOf(t,"LineString","line");var n=1/0,o=e.geometry.coordinates;return a.segmentEach(t,(function(e){var t=e.geometry.coordinates[0],i=e.geometry.coordinates[1],l=function(e,t,r,n){var o=[r[0]-t[0],r[1]-t[1]],i=c([e[0]-t[0],e[1]-t[1]],o);if(i<=0)return u(e,t,{method:n.method,units:"degrees"});var l=c(o,o);if(l<=i)return u(e,r,{method:n.method,units:"degrees"});var a=i/l;return u(e,[t[0]+a*o[0],t[1]+a*o[1]],{method:n.method,units:"degrees"})}(o,t,i,r);l<n&&(n=l)})),i.convertLength(n,"degrees",r.units)}},187:(e,t,r)=>{"use strict";var n=r(8147),o=r(4102),i=r(1540);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=l(n);function s(e,t){var r=[];return i.featureEach(e,(function(e){var n=!1;if("Point"===e.geometry.type)i.geomEach(t,(function(t){a.default(e,t)&&(n=!0)})),n&&r.push(e);else{if("MultiPoint"!==e.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var l=[];i.geomEach(t,(function(t){i.coordEach(e,(function(e){a.default(e,t)&&(n=!0,l.push(e))}))})),n&&r.push(o.multiPoint(l))}})),o.featureCollection(r)}e.exports=s,e.exports.default=s},4978:(e,t,r)=>{"use strict";var n=r(1540),o=r(4102);function i(e,t){var r=[],i=t.iterations||1;if(!e)throw new Error("inputPolys is required");return n.geomEach(e,(function(e,t,n){var s,c,u;switch(e.type){case"Polygon":s=[[]];for(var f=0;f<i;f++)u=[[]],c=e,f>0&&(c=o.polygon(s).geometry),l(c,u),s=u.slice(0);r.push(o.polygon(s,n));break;case"MultiPolygon":s=[[[]]];for(var p=0;p<i;p++)u=[[[]]],c=e,p>0&&(c=o.multiPolygon(s).geometry),a(c,u),s=u.slice(0);r.push(o.multiPolygon(s,n));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}})),o.featureCollection(r)}function l(e,t){var r=0,o=0;n.coordEach(e,(function(n,i,l,a,s){s>r&&(r=s,o=i,t.push([]));var c=i-o,u=e.coordinates[s][c+1],f=n[0],p=n[1],h=u[0],g=u[1];t[s].push([.75*f+.25*h,.75*p+.25*g]),t[s].push([.25*f+.75*h,.25*p+.75*g])}),!0),t.forEach((function(e){e.push(e[0])}))}function a(e,t){var r=0,o=0,i=0;n.coordEach(e,(function(n,l,a,s,c){s>i&&(i=s,o=l,t.push([[]])),c>r&&(r=c,o=l,t[s].push([]));var u=l-o,f=e.coordinates[s][c][u+1],p=n[0],h=n[1],g=f[0],m=f[1];t[s][c].push([.75*p+.25*g,.75*h+.25*m]),t[s][c].push([.25*p+.75*g,.25*h+.75*m])}),!0),t.forEach((function(e){e.forEach((function(e){e.push(e[0])}))}))}e.exports=i,e.exports.default=i},5215:(e,t,r)=>{"use strict";var n=r(611),o=r(4102),i=r(9705),l=r(3922),a=r(6379);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=s(i),u=s(l),f=s(a);function p(e,t){var r,i,l,a,s=n.getCoords(e),p=n.getCoords(t),m=c.default(t),v=0,d=null;switch(s[0]>m[0]&&s[0]<m[2]&&s[1]>m[1]&&s[1]<m[3]&&(v=(d=f.default(e,u.default(t))).properties.featureIndex),n.getType(t)){case"Polygon":r=p[0][v],i=p[0][0],null!==d&&d.geometry.coordinates[1]<s[1]&&(i=p[0][v]),a=g(p[0][0],p[0][p[0].length-1],s);var y=h(p[0],s,a,l,r,i);r=y[0],i=y[1];break;case"MultiPolygon":for(var b=0,w=0,O=0,x=0;x<p[0].length;x++){b=x;for(var _=!1,z=0;z<p[0][x].length;z++){if(w=z,O===v){_=!0;break}O++}if(_)break}r=p[0][b][w],i=p[0][b][w],a=g(p[0][0][0],p[0][0][p[0][0].length-1],s),p.forEach((function(e){var t=h(e[0],s,a,l,r,i);r=t[0],i=t[1]}))}return o.featureCollection([o.point(r),o.point(i)])}function h(e,t,r,n,o,i){for(var l=0;l<e.length;l++){var a=e[l],s=e[l+1];l===e.length-1&&(s=e[0]),n=g(a,s,t),r<=0&&n>0?g(t,a,o)<0||(o=a):r>0&&n<=0&&(g(t,a,i)>0||(i=a)),r=n}return[o,i]}function g(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])}e.exports=p,e.exports.default=p},7383:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102),o=r(611);function i(e,t){return void 0===t&&(t={}),a(o.getGeom(e).coordinates,t.properties?t.properties:"Feature"===e.type?e.properties:{})}function l(e,t){void 0===t&&(t={});var r=o.getGeom(e).coordinates,i=t.properties?t.properties:"Feature"===e.type?e.properties:{},l=[];return r.forEach((function(e){l.push(a(e,i))})),n.featureCollection(l)}function a(e,t){return e.length>1?n.multiLineString(e,t):n.lineString(e[0],t)}t.default=function(e,t){void 0===t&&(t={});var r=o.getGeom(e);switch(t.properties||"Feature"!==e.type||(t.properties=e.properties),r.type){case"Polygon":return i(r,t);case"MultiPolygon":return l(r,t);default:throw new Error("invalid poly")}},t.polygonToLine=i,t.multiPolygonToLine=l,t.coordsToLine=a},4312:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4102),i=n(r(7254)),l=n(r(6467));t.default=function(e){var t=i.default.fromGeoJson(e);t.deleteDangles(),t.deleteCutEdges();var r=[],n=[];return t.getEdgeRings().filter((function(e){return e.isValid()})).forEach((function(e){e.isHole()?r.push(e):n.push(e)})),r.forEach((function(e){l.default.findEdgeRingContaining(e,n)&&n.push(e)})),o.featureCollection(n.map((function(e){return e.toPolygon()})))}},5344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102),o=r(4772),i=function(){function e(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return n.lineString([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(e){return o.orientationIndex(e.from.coordinates,e.to.coordinates,this.to.coordinates)},e}();t.default=i},6467:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4772),i=r(4102),l=n(r(9062)),a=n(r(8147)),s=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(e){this.edges.push(e),this.polygon=this.envelope=void 0},e.prototype.get=function(e){return this.edges[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.edges.forEach(e)},e.prototype.map=function(e){return this.edges.map(e)},e.prototype.some=function(e){return this.edges.some(e)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var e=this,t=this.edges.reduce((function(t,r,n){return r.from.coordinates[1]>e.edges[t].from.coordinates[1]&&(t=n),t}),0),r=(0===t?this.length:t)-1,n=(t+1)%this.length,i=o.orientationIndex(this.edges[r].from.coordinates,this.edges[t].from.coordinates,this.edges[n].from.coordinates);return 0===i?this.edges[r].from.coordinates[0]>this.edges[n].from.coordinates[0]:i>0},e.prototype.toMultiPoint=function(){return i.multiPoint(this.edges.map((function(e){return e.from.coordinates})))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map((function(e){return e.from.coordinates}));return e.push(this.edges[0].from.coordinates),this.polygon=i.polygon([e])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=l.default(this.toPolygon())},e.findEdgeRingContaining=function(e,t){var r,n,l=e.getEnvelope();return t.forEach((function(t){var a=t.getEnvelope();if(n&&(r=n.getEnvelope()),!o.envelopeIsEqual(a,l)&&o.envelopeContains(a,l)){for(var s=e.map((function(e){return e.from.coordinates})),c=void 0,u=function(e){t.some((function(t){return o.coordinatesEqual(e,t.from.coordinates)}))||(c=e)},f=0,p=s;f<p.length;f++)u(p[f]);c&&t.inside(i.point(c))&&(n&&!o.envelopeContains(r,a)||(n=t))}})),n},e.prototype.inside=function(e){return a.default(e,this.toPolygon())},e}();t.default=s},7254:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(3424)),i=n(r(5344)),l=n(r(6467)),a=r(1540),s=r(611),c=function(){function e(){this.edges=[],this.nodes={}}return e.fromGeoJson=function(t){!function(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var r=new e;return a.flattenEach(t,(function(e){s.featureOf(e,"LineString","Graph::fromGeoJson"),a.coordReduce(e,(function(e,t){if(e){var n=r.getNode(e),o=r.getNode(t);r.addEdge(n,o)}return t}))})),r},e.prototype.getNode=function(e){var t=o.default.buildId(e),r=this.nodes[t];return r||(r=this.nodes[t]=new o.default(e)),r},e.prototype.addEdge=function(e,t){var r=new i.default(e,t),n=r.getSymetric();this.edges.push(r),this.edges.push(n)},e.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map((function(t){return e.nodes[t]})).forEach((function(t){return e._removeIfDangle(t)}))},e.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var r=e.getOuterEdges().map((function(e){return e.to}));this.removeNode(e),r.forEach((function(e){return t._removeIfDangle(e)}))}},e.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))}))},e.prototype._computeNextCWEdges=function(e){var t=this;void 0===e?Object.keys(this.nodes).forEach((function(e){return t._computeNextCWEdges(t.nodes[e])})):e.getOuterEdges().forEach((function(t,r){e.getOuterEdge((0===r?e.getOuterEdges().length:r)-1).symetric.next=t}))},e.prototype._computeNextCCWEdges=function(e,t){for(var r,n,o=e.getOuterEdges(),i=o.length-1;i>=0;--i){var l=o[i],a=l.symetric,s=void 0,c=void 0;l.label===t&&(s=l),a.label===t&&(c=a),s&&c&&(c&&(n=c),s&&(n&&(n.next=s,n=void 0),r||(r=s)))}n&&(n.next=r)},e.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach((function(r){if(!(r.label>=0)){e.push(r);var n=r;do{n.label=t,n=n.next}while(!r.isEqual(n));t++}})),e},e.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach((function(e){e.label=void 0})),this._findLabeledEdgeRings().forEach((function(t){e._findIntersectionNodes(t).forEach((function(r){e._computeNextCCWEdges(r,t.label)}))}));var t=[];return this.edges.forEach((function(r){r.ring||t.push(e._findEdgeRing(r))})),t},e.prototype._findIntersectionNodes=function(e){var t=[],r=e,n=function(){var n=0;r.from.getOuterEdges().forEach((function(t){t.label===e.label&&++n})),n>1&&t.push(r.from),r=r.next};do{n()}while(!e.isEqual(r));return t},e.prototype._findEdgeRing=function(e){var t=e,r=new l.default;do{r.push(t),t.ring=r,t=t.next}while(!e.isEqual(t));return r},e.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach((function(e){return t.removeEdge(e)})),e.innerEdges.forEach((function(e){return t.removeEdge(e)})),delete this.nodes[e.id]},e.prototype.removeEdge=function(e){this.edges=this.edges.filter((function(t){return!t.isEqual(e)})),e.deleteEdge()},e}();t.default=c},3424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4772),o=function(){function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(e){return e.join(",")},e.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter((function(t){return t.from.id!==e.from.id}))},e.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter((function(t){return t.to.id!==e.to.id}))},e.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort((function(t,r){var o=t.to,i=r.to;if(o.coordinates[0]-e.coordinates[0]>=0&&i.coordinates[0]-e.coordinates[0]<0)return 1;if(o.coordinates[0]-e.coordinates[0]<0&&i.coordinates[0]-e.coordinates[0]>=0)return-1;if(o.coordinates[0]-e.coordinates[0]==0&&i.coordinates[0]-e.coordinates[0]==0)return o.coordinates[1]-e.coordinates[1]>=0||i.coordinates[1]-e.coordinates[1]>=0?o.coordinates[1]-i.coordinates[1]:i.coordinates[1]-o.coordinates[1];var l=n.orientationIndex(e.coordinates,o.coordinates,i.coordinates);return l<0?1:l>0?-1:Math.pow(o.coordinates[0]-e.coordinates[0],2)+Math.pow(o.coordinates[1]-e.coordinates[1],2)-(Math.pow(i.coordinates[0]-e.coordinates[0],2)+Math.pow(i.coordinates[1]-e.coordinates[1],2))})),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},e.prototype.addInnerEdge=function(e){this.innerEdges.push(e)},e}();t.default=o},4772:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(8147)),i=r(4102);t.orientationIndex=function(e,t,r){var n,o=t[0]-e[0],i=t[1]-e[1],l=r[0]-t[0];return((n=o*(r[1]-t[1])-l*i)>0)-(n<0)||+n},t.envelopeIsEqual=function(e,t){var r=e.geometry.coordinates[0].map((function(e){return e[0]})),n=e.geometry.coordinates[0].map((function(e){return e[1]})),o=t.geometry.coordinates[0].map((function(e){return e[0]})),i=t.geometry.coordinates[0].map((function(e){return e[1]}));return Math.max.apply(null,r)===Math.max.apply(null,o)&&Math.max.apply(null,n)===Math.max.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,o)&&Math.min.apply(null,n)===Math.min.apply(null,i)},t.envelopeContains=function(e,t){return t.geometry.coordinates[0].every((function(t){return o.default(i.point(t),e)}))},t.coordinatesEqual=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},981:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1540),i=r(4102),l=n(r(6565));function a(e,t,r){void 0===r&&(r={});var n=(r=r||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&i.isNumber(e[0])?e="mercator"===t?s(e):c(e):(!0!==n&&(e=l.default(e)),o.coordEach(e,(function(e){var r="mercator"===t?s(e):c(e);e[0]=r[0],e[1]=r[1]}))),e}function s(e){var t,r=Math.PI/180,n=6378137,o=20037508.342789244,i=[n*(Math.abs(e[0])<=180?e[0]:e[0]-360*((t=e[0])<0?-1:t>0?1:0))*r,n*Math.log(Math.tan(.25*Math.PI+.5*e[1]*r))];return i[0]>o&&(i[0]=o),i[0]<-o&&(i[0]=-o),i[1]>o&&(i[1]=o),i[1]<-o&&(i[1]=-o),i}function c(e){var t=180/Math.PI,r=6378137;return[e[0]*t/r,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/r)))*t]}t.toMercator=function(e,t){return void 0===t&&(t={}),a(e,"mercator",t)},t.toWgs84=function(e,t){return void 0===t&&(t={}),a(e,"wgs84",t)}},6295:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],l=0,a=i.length;l<a;l++,o++)n[o]=i[l];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4102);function i(e){return Array.isArray(e)?a(e):e&&e.bbox?a(e.bbox):[360*l(),180*l()]}function l(){return Math.random()-.5}function a(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}t.randomPosition=i,t.randomPoint=function(e,t){void 0===t&&(t={}),null==e&&(e=1);for(var r=[],n=0;n<e;n++)r.push(o.point(i(t.bbox)));return o.featureCollection(r)},t.randomPolygon=function(e,t){void 0===t&&(t={}),null==e&&(e=1),o.isNumber(t.num_vertices)&&void 0!==t.num_vertices||(t.num_vertices=10),o.isNumber(t.max_radial_length)&&void 0!==t.max_radial_length||(t.max_radial_length=10);for(var r=[],l=function(e){var l,a=[],s=n(Array(t.num_vertices+1)).map(Math.random);s.forEach((function(e,t,r){r[t]=t>0?e+r[t-1]:e})),s.forEach((function(e){e=2*e*Math.PI/s[s.length-1];var r=Math.random();a.push([r*(t.max_radial_length||10)*Math.sin(e),r*(t.max_radial_length||10)*Math.cos(e)])})),a[a.length-1]=a[0],a=a.map((l=i(t.bbox),function(e){return[e[0]+l[0],e[1]+l[1]]})),r.push(o.polygon([a]))},a=0;a<e;a++)l();return o.featureCollection(r)},t.randomLineString=function(e,t){if(void 0===t&&(t={}),t=t||{},!o.isObject(t))throw new Error("options is invalid");var r=t.bbox,n=t.num_vertices,l=t.max_length,a=t.max_rotation;null==e&&(e=1),(!o.isNumber(n)||void 0===n||n<2)&&(n=10),o.isNumber(l)&&void 0!==l||(l=1e-4),o.isNumber(a)&&void 0!==a||(a=Math.PI/8);for(var s=[],c=0;c<e;c++){for(var u=[i(r)],f=0;f<n-1;f++){var p=(0===f?2*Math.random()*Math.PI:Math.tan((u[f][1]-u[f-1][1])/(u[f][0]-u[f-1][0])))+(Math.random()-.5)*a*2,h=Math.random()*l;u.push([u[f][0]+h*Math.cos(p),u[f][1]+h*Math.sin(p)])}s.push(o.lineString(u))}return o.featureCollection(s)}},4131:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(5745)),i=n(r(1013)),l=r(4102);t.default=function(e,t,r,n){void 0===n&&(n={});for(var a=[],s=e[0],c=e[1],u=e[2],f=e[3],p=t/i.default([s,c],[u,c],n)*(u-s),h=r/i.default([s,c],[s,f],n)*(f-c),g=u-s,m=f-c,v=Math.floor(g/p),d=Math.floor(m/h),y=(m-d*h)/2,b=s+(g-v*p)/2,w=0;w<v;w++){for(var O=c+y,x=0;x<d;x++){var _=l.polygon([[[b,O],[b,O+h],[b+p,O+h],[b+p,O],[b,O]]],n.properties);n.mask?o.default(n.mask,_)&&a.push(_):a.push(_),O+=h}b+=p}return l.featureCollection(a)}},1138:(e,t,r)=>{"use strict";var n=r(6565),o=r(3809),i=r(1540),l=r(611),a=r(4102);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=s(n),u=s(o);function f(e,t){if(t=t||{},!a.isObject(t))throw new Error("options is invalid");var r=t.reverse||!1,n=t.mutate||!1;if(!e)throw new Error("<geojson> is required");if("boolean"!=typeof r)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof n)throw new Error("<mutate> must be a boolean");!1===n&&(e=c.default(e));var o=[];switch(e.type){case"GeometryCollection":return i.geomEach(e,(function(e){p(e,r)})),e;case"FeatureCollection":return i.featureEach(e,(function(e){i.featureEach(p(e,r),(function(e){o.push(e)}))})),a.featureCollection(o)}return p(e,r)}function p(e,t){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return i.geomEach(e,(function(e){p(e,t)})),e;case"LineString":return h(l.getCoords(e),t),e;case"Polygon":return g(l.getCoords(e),t),e;case"MultiLineString":return l.getCoords(e).forEach((function(e){h(e,t)})),e;case"MultiPolygon":return l.getCoords(e).forEach((function(e){g(e,t)})),e;case"Point":case"MultiPoint":return e}}function h(e,t){u.default(e)===t&&e.reverse()}function g(e,t){u.default(e[0])!==t&&e[0].reverse();for(var r=1;r<e.length;r++)u.default(e[r])===t&&e[r].reverse()}e.exports=f,e.exports.default=f},2054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102),o=r(611);function i(e,t){var r=n.degreesToRadians(e[1]),o=n.degreesToRadians(t[1]),i=n.degreesToRadians(t[0]-e[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var l=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),a=Math.atan2(i,l);return(n.radiansToDegrees(a)+360)%360}t.default=function(e,t,r){var n;return void 0===r&&(r={}),(n=r.final?i(o.getCoord(t),o.getCoord(e)):i(o.getCoord(e),o.getCoord(t)))>180?-(360-n):n}},6082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102),o=r(611);t.default=function(e,t,r,i){void 0===i&&(i={});var l=t<0,a=n.convertLength(Math.abs(t),i.units,"meters");l&&(a=-Math.abs(a));var s=o.getCoord(e),c=function(e,t,r,o){var i=t/(o=void 0===o?n.earthRadius:Number(o)),l=e[0]*Math.PI/180,a=n.degreesToRadians(e[1]),s=n.degreesToRadians(r),c=i*Math.cos(s),u=a+c;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);var f=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),p=Math.abs(f)>1e-11?c/f:Math.cos(a);return[(180*(l+i*Math.sin(s)/p)/Math.PI+540)%360-180,180*u/Math.PI]}(s,a,r);return c[0]+=c[0]-s[0]>180?-360:s[0]-c[0]>180?360:0,n.point(c,i.properties)}},6213:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102),o=r(611);t.default=function(e,t,r){void 0===r&&(r={});var i=o.getCoord(e),l=o.getCoord(t);l[0]+=l[0]-i[0]>180?-360:i[0]-l[0]>180?360:0;var a=function(e,t,r){var o=r=void 0===r?n.earthRadius:Number(r),i=e[1]*Math.PI/180,l=t[1]*Math.PI/180,a=l-i,s=Math.abs(t[0]-e[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),u=Math.abs(c)>1e-11?a/c:Math.cos(i);return Math.sqrt(a*a+u*u*s*s)*o}(i,l);return n.convertLength(a,"meters",r.units)}},3503:(e,t,r)=>{"use strict";var n=r(4102);function o(e,t){if(!e)throw new Error("featurecollection is required");if(null==t)throw new Error("num is required");if("number"!=typeof t)throw new Error("num must be a number");return n.featureCollection(function(e,t){for(var r,n,o=e.slice(0),i=e.length,l=i-t;i-- >l;)r=o[n=Math.floor((i+1)*Math.random())],o[n]=o[i],o[i]=r;return o.slice(l)}(e.features,t))}e.exports=o,e.exports.default=o},1674:(e,t,r)=>{"use strict";var n=r(265),o=r(7272),i=r(1540),l=r(4102),a=r(611);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=s(n),u=s(o);function f(e,t,r,n,o){if(o=o||{},!l.isObject(o))throw new Error("options is invalid");var s=o.properties;if(!e)throw new Error("center is required");if(null==r)throw new Error("bearing1 is required");if(null==n)throw new Error("bearing2 is required");if(!t)throw new Error("radius is required");if("object"!=typeof o)throw new Error("options must be an object");if(p(r)===p(n))return c.default(e,t,o);var f=a.getCoords(e),h=u.default(e,t,r,n,o),g=[[f]];return i.coordEach(h,(function(e){g[0].push(e)})),g[0].push(f),l.polygon(g,s)}function p(e){var t=e%360;return t<0&&(t+=360),t}e.exports=f,e.exports.default=f},3550:(e,t,r)=>{"use strict";var n=r(9705),o=r(8147),i=r(1013),l=r(7517),a=r(1435),s=r(3652),c=r(611),u=r(4102);function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=f(n),h=f(o),g=f(i),m=f(l),v=f(a),d=f(s);function y(e){for(var t=e,r=[];t.parent;)r.unshift(t),t=t.parent;return r}var b={search:function(e,t,r,n){e.cleanDirty();var o=(n=n||{}).heuristic||b.heuristics.manhattan,i=n.closest||!1,l=new x((function(e){return e.f})),a=t;for(t.h=o(t,r),l.push(t);l.size()>0;){var s=l.pop();if(s===r)return y(s);s.closed=!0;for(var c=e.neighbors(s),u=0,f=c.length;u<f;++u){var p=c[u];if(!p.closed&&!p.isWall()){var h=s.g+p.getCost(s),g=p.visited;(!g||h<p.g)&&(p.visited=!0,p.parent=s,p.h=p.h||o(p,r),p.g=h,p.f=p.g+p.h,e.markDirty(p),i&&(p.h<a.h||p.h===a.h&&p.g<a.g)&&(a=p),g?l.rescoreElement(p):l.push(p))}}}return i?y(a):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var r=Math.sqrt(2),n=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y);return 1*(n+o)+(r-2)*Math.min(n,o)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function w(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var r=0;r<e.length;r++){this.grid[r]=[];for(var n=0,o=e[r];n<o.length;n++){var i=new O(r,n,o[n]);this.grid[r][n]=i,this.nodes.push(i)}}this.init()}function O(e,t,r){this.x=e,this.y=t,this.weight=r}function x(e){this.content=[],this.scoreFunction=e}function _(e,t,r){if(r=r||{},!u.isObject(r))throw new Error("options is invalid");var n=r.resolution,o=r.minDistance,i=r.obstacles||u.featureCollection([]);if(!e)throw new Error("start is required");if(!t)throw new Error("end is required");if(n&&!u.isNumber(n)||n<=0)throw new Error("options.resolution must be a number, greater than 0");if(o)throw new Error("options.minDistance is not yet implemented");var l=c.getCoord(e),a=c.getCoord(t);switch(e=u.point(l),t=u.point(a),c.getType(i)){case"FeatureCollection":if(0===i.features.length)return u.lineString([l,a]);break;case"Polygon":i=u.featureCollection([u.feature(c.getGeom(i))]);break;default:throw new Error("invalid obstacles")}var s=i;s.features.push(e),s.features.push(t);var f=p.default(m.default(d.default(p.default(s)),1.15));n||(n=g.default([f[0],f[1]],[f[2],f[1]],r)/100),s.features.pop(),s.features.pop();for(var h=f[0],y=f[1],O=f[2],x=f[3],_=n/g.default([h,y],[O,y],r)*(O-h),E=n/g.default([h,y],[h,x],r)*(x-y),j=O-h,P=x-y,S=Math.floor(j/_),M=Math.floor(P/E),T=(j-S*_)/2,C=[],A=[],I=[],k=[],R=1/0,L=1/0,V=x-(P-M*E)/2,B=0;V>=y;){for(var H=[],D=[],Z=h+T,F=0;Z<=O;){var N=u.point([Z,V]),U=z(N,i);H.push(U?0:1),D.push(Z+"|"+V);var G=g.default(N,e);!U&&G<R&&(R=G,I={x:F,y:B});var q=g.default(N,t);!U&&q<L&&(L=q,k={x:F,y:B}),Z+=_,F++}A.push(H),C.push(D),V-=E,B++}var X=new w(A,{diagonal:!0}),$=X.grid[I.y][I.x],W=X.grid[k.y][k.x],Y=b.search(X,$,W),K=[l];return Y.forEach((function(e){var t=C[e.x][e.y].split("|");K.push([+t[0],+t[1]])})),K.push(a),v.default(u.lineString(K))}function z(e,t){for(var r=0;r<t.features.length;r++)if(h.default(e,t.features[r]))return!0;return!1}w.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)b.cleanNode(this.nodes[e])},w.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)b.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},w.prototype.markDirty=function(e){this.dirtyNodes.push(e)},w.prototype.neighbors=function(e){var t=[],r=e.x,n=e.y,o=this.grid;return o[r-1]&&o[r-1][n]&&t.push(o[r-1][n]),o[r+1]&&o[r+1][n]&&t.push(o[r+1][n]),o[r]&&o[r][n-1]&&t.push(o[r][n-1]),o[r]&&o[r][n+1]&&t.push(o[r][n+1]),this.diagonal&&(o[r-1]&&o[r-1][n-1]&&t.push(o[r-1][n-1]),o[r+1]&&o[r+1][n-1]&&t.push(o[r+1][n-1]),o[r-1]&&o[r-1][n+1]&&t.push(o[r-1][n+1]),o[r+1]&&o[r+1][n+1]&&t.push(o[r+1][n+1])),t},w.prototype.toString=function(){for(var e,t,r,n,o=[],i=this.grid,l=0,a=i.length;l<a;l++){for(e=[],r=0,n=(t=i[l]).length;r<n;r++)e.push(t[r].weight);o.push(e.join(" "))}return o.join("\n")},O.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},O.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},O.prototype.isWall=function(){return 0===this.weight},x.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),r=this.content.pop();t!==this.content.length-1&&(this.content[t]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var r=(e+1>>1)-1,n=this.content[r];if(!(this.scoreFunction(t)<this.scoreFunction(n)))break;this.content[r]=t,this.content[e]=n,e=r}},bubbleUp:function(e){for(var t=this.content.length,r=this.content[e],n=this.scoreFunction(r);;){var o,i=e+1<<1,l=i-1,a=null;if(l<t){var s=this.content[l];(o=this.scoreFunction(s))<n&&(a=l)}if(i<t){var c=this.content[i];this.scoreFunction(c)<(null===a?n:o)&&(a=i)}if(null===a)break;this.content[e]=this.content[a],this.content[a]=r,e=a}}},e.exports=_,e.exports.default=_},7191:(e,t,r)=>{"use strict";var n=r(1435),o=r(6565),i=r(1540),l=r(4102);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(n),c=a(o);function u(e,t,r){var n=t.x,o=t.y,i=r.x-n,l=r.y-o;if(0!==i||0!==l){var a=((e.x-n)*i+(e.y-o)*l)/(i*i+l*l);a>1?(n=r.x,o=r.y):a>0&&(n+=i*a,o+=l*a)}return(i=e.x-n)*i+(l=e.y-o)*l}function f(e,t,r,n,o){for(var i,l=n,a=t+1;a<r;a++){var s=u(e[a],e[t],e[r]);s>l&&(i=a,l=s)}l>n&&(i-t>1&&f(e,t,i,n,o),o.push(e[i]),r-i>1&&f(e,i,r,n,o))}function p(e,t){var r=e.length-1,n=[e[0]];return f(e,0,r,t,n),n.push(e[r]),n}function h(e,t,r){if(e.length<=2)return e;var n=void 0!==t?t*t:1;return e=r?e:function(e,t){for(var r,n,o,i,l,a=e[0],s=[a],c=1,u=e.length;c<u;c++)o=a,void 0,void 0,(i=(n=r=e[c]).x-o.x)*i+(l=n.y-o.y)*l>t&&(s.push(r),a=r);return a!==r&&s.push(r),s}(e,n),p(e,n)}function g(e,t){if(t=t||{},!l.isObject(t))throw new Error("options is invalid");var r=void 0!==t.tolerance?t.tolerance:1,n=t.highQuality||!1,o=t.mutate||!1;if(!e)throw new Error("geojson is required");if(r&&r<0)throw new Error("invalid tolerance");return!0!==o&&(e=c.default(e)),i.geomEach(e,(function(e){!function(e,t,r){var n=e.type;if("Point"===n||"MultiPoint"===n)return e;s.default(e,!0);var o=e.coordinates;switch(n){case"LineString":e.coordinates=m(o,t,r);break;case"MultiLineString":e.coordinates=o.map((function(e){return m(e,t,r)}));break;case"Polygon":e.coordinates=v(o,t,r);break;case"MultiPolygon":e.coordinates=o.map((function(e){return v(e,t,r)}))}}(e,r,n)})),e}function m(e,t,r){return h(e.map((function(e){return{x:e[0],y:e[1],z:e[2]}})),t,r).map((function(e){return e.z?[e.x,e.y,e.z]:[e.x,e.y]}))}function v(e,t,r){return e.map((function(e){var n=e.map((function(e){return{x:e[0],y:e[1]}}));if(n.length<4)throw new Error("invalid polygon");for(var o=h(n,t,r).map((function(e){return[e.x,e.y]}));!d(o);)o=h(n,t-=.01*t,r).map((function(e){return[e.x,e.y]}));return o[o.length-1][0]===o[0][0]&&o[o.length-1][1]===o[0][1]||o.push(o[0]),o}))}function d(e){return!(e.length<3||3===e.length&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}e.exports=g,e.exports.default=g},5434:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(4131));t.default=function(e,t,r){return void 0===r&&(r={}),o.default(e,t,t,r)}},5077:(e,t,r)=>{"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(r(1013));function i(e){var t=e[0],r=e[1],n=e[2],i=e[3];if(o.default(e.slice(0,2),[n,r])>=o.default(e.slice(0,2),[t,i])){var l=(r+i)/2;return[t,l-(n-t)/2,n,l+(n-t)/2]}var a=(t+n)/2;return[a-(i-r)/2,r,a+(i-r)/2,i]}e.exports=i,e.exports.default=i},3955:(e,t,r)=>{"use strict";var n=r(1540),o=r(611),i=r(4102),l=r(6320),a=r(187),s=r(1211);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=c(l),f=c(a),p=c(s);function h(e,t){if(t=t||{},!i.isObject(t))throw new Error("options is invalid");var r=t.steps||64,l=t.weight,a=t.properties||{};if(!i.isNumber(r))throw new Error("steps must be a number");if(!i.isObject(a))throw new Error("properties must be a number");var s=n.coordAll(e).length,c=u.default(e,{weight:l}),h=0,m=0,v=0;n.featureEach(e,(function(e){var t=e.properties[l]||1,r=g(o.getCoords(e),o.getCoords(c));h+=Math.pow(r.x,2)*t,m+=Math.pow(r.y,2)*t,v+=r.x*r.y*t}));var d=h-m,y=Math.sqrt(Math.pow(d,2)+4*Math.pow(v,2)),b=2*v,w=Math.atan((d+y)/b),O=180*w/Math.PI,x=0,_=0,z=0;n.featureEach(e,(function(e){var t=e.properties[l]||1,r=g(o.getCoords(e),o.getCoords(c));x+=Math.pow(r.x*Math.cos(w)-r.y*Math.sin(w),2)*t,_+=Math.pow(r.x*Math.sin(w)+r.y*Math.cos(w),2)*t,z+=t}));var E=Math.sqrt(2*x/z),j=Math.sqrt(2*_/z),P=p.default(c,E,j,{units:"degrees",angle:O,steps:r,properties:a}),S=f.default(e,i.featureCollection([P])),M={meanCenterCoordinates:o.getCoords(c),semiMajorAxis:E,semiMinorAxis:j,numberOfFeatures:s,angle:O,percentageWithinEllipse:100*n.coordAll(S).length/s};return P.properties.standardDeviationalEllipse=M,P}function g(e,t){return{x:e[0]-t[0],y:e[1]-t[1]}}e.exports=h,e.exports.default=h},2015:(e,t,r)=>{"use strict";var n=r(8147),o=r(6565),i=r(1540);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=l(n),s=l(o);function c(e,t,r,n){return e=s.default(e),t=s.default(t),i.featureEach(e,(function(e){e.properties||(e.properties={}),i.featureEach(t,(function(t){void 0===e.properties[n]&&a.default(e,t)&&(e.properties[n]=t.properties[r])}))})),e}e.exports=c,e.exports.default=c},5845:(e,t,r)=>{"use strict";var n=r(9187),o=r(4102);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=i(n);function a(e){if(!e.geometry||"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var t={type:"FeatureCollection",features:[]};return"Polygon"===e.geometry.type?t.features=s(e.geometry.coordinates):e.geometry.coordinates.forEach((function(e){t.features=t.features.concat(s(e))})),t}function s(e){var t=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var l=0;l<t;l++)r.vertices.push(e[o][i][l]);o>0&&(n+=e[o-1].length,r.holes.push(n))}return r}(e),r=l.default(t.vertices,t.holes,2),n=[],i=[];r.forEach((function(e,n){var o=r[n];i.push([t.vertices[2*o],t.vertices[2*o+1]])}));for(var a=0;a<i.length;a+=3){var s=i.slice(a,a+3);s.push(i[a]),n.push(o.polygon([s]))}return n}e.exports=a,e.exports.default=a},8829:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4102);t.default=function(e,t){var r=!1;return n.featureCollection(function(e){if(e.length<3)return[];e.sort(i);for(var t,r,n,a,s,c,u=e.length-1,f=e[u].x,p=e[0].x,h=e[u].y,g=h;u--;)e[u].y<h&&(h=e[u].y),e[u].y>g&&(g=e[u].y);var m,v=p-f,d=g-h,y=v>d?v:d,b=.5*(p+f),w=.5*(g+h),O=[new o({__sentinel:!0,x:b-20*y,y:w-y},{__sentinel:!0,x:b,y:w+20*y},{__sentinel:!0,x:b+20*y,y:w-y})],x=[],_=[];for(u=e.length;u--;){for(_.length=0,m=O.length;m--;)(v=e[u].x-O[m].x)>0&&v*v>O[m].r?(x.push(O[m]),O.splice(m,1)):v*v+(d=e[u].y-O[m].y)*d>O[m].r||(_.push(O[m].a,O[m].b,O[m].b,O[m].c,O[m].c,O[m].a),O.splice(m,1));for(l(_),m=_.length;m;)r=_[--m],t=_[--m],n=e[u],a=r.x-t.x,s=r.y-t.y,c=2*(a*(n.y-r.y)-s*(n.x-r.x)),Math.abs(c)>1e-12&&O.push(new o(t,r,n))}for(Array.prototype.push.apply(x,O),u=x.length;u--;)(x[u].a.__sentinel||x[u].b.__sentinel||x[u].c.__sentinel)&&x.splice(u,1);return x}(e.features.map((function(e){var n={x:e.geometry.coordinates[0],y:e.geometry.coordinates[1]};return t?n.z=e.properties[t]:3===e.geometry.coordinates.length&&(r=!0,n.z=e.geometry.coordinates[2]),n}))).map((function(e){var t=[e.a.x,e.a.y],o=[e.b.x,e.b.y],i=[e.c.x,e.c.y],l={};return r?(t.push(e.a.z),o.push(e.b.z),i.push(e.c.z)):l={a:e.a.z,b:e.b.z,c:e.c.z},n.polygon([[t,o,i,t]],l)})))};var o=function(e,t,r){this.a=e,this.b=t,this.c=r;var n,o,i=t.x-e.x,l=t.y-e.y,a=r.x-e.x,s=r.y-e.y,c=i*(e.x+t.x)+l*(e.y+t.y),u=a*(e.x+r.x)+s*(e.y+r.y),f=2*(i*(r.y-t.y)-l*(r.x-t.x));this.x=(s*c-l*u)/f,this.y=(i*u-a*c)/f,n=this.x-e.x,o=this.y-e.y,this.r=n*n+o*o};function i(e,t){return t.x-e.x}function l(e){var t,r,n,o,i,l=e.length;e:for(;l;)for(r=e[--l],t=e[--l],n=l;n;)if(i=e[--n],t===(o=e[--n])&&r===i||t===i&&r===o){e.splice(l,2),e.splice(n,2),l-=2;continue e}}},7460:(e,t,r)=>{"use strict";var n=r(6338),o=r(2054),i=r(6213),l=r(6082),a=r(6565),s=r(1540),c=r(611),u=r(4102);function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=f(n),h=f(o),g=f(i),m=f(l),v=f(a);function d(e,t,r){if(r=r||{},!u.isObject(r))throw new Error("options is invalid");var n=r.pivot,o=r.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("angle is required");return 0===t||(n||(n=p.default(e)),!1!==o&&void 0!==o||(e=v.default(e)),s.coordEach(e,(function(e){var r=h.default(n,e)+t,o=g.default(n,e),i=c.getCoords(m.default(n,o,r));e[0]=i[0],e[1]=i[1]}))),e}e.exports=d,e.exports.default=d},7517:(e,t,r)=>{"use strict";var n=r(6565),o=r(8230),i=r(6338),l=r(9705),a=r(2054),s=r(6213),c=r(6082),u=r(1540),f=r(4102),p=r(611);function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var g=h(n),m=h(o),v=h(i),d=h(l),y=h(a),b=h(s),w=h(c);function O(e,t,r){if(r=r||{},!f.isObject(r))throw new Error("options is invalid");var n=r.origin,o=r.mutate;if(!e)throw new Error("geojson required");if("number"!=typeof t||0===t)throw new Error("invalid factor");var i=Array.isArray(n)||"object"==typeof n;return!0!==o&&(e=g.default(e)),"FeatureCollection"!==e.type||i?x(e,t,n):(u.featureEach(e,(function(r,o){e.features[o]=x(r,t,n)})),e)}function x(e,t,r){var n="Point"===p.getType(e);return r=function(e,t){if(null==t&&(t="centroid"),Array.isArray(t)||"object"==typeof t)return p.getCoord(t);var r=e.bbox?e.bbox:d.default(e),n=r[0],o=r[1],i=r[2],l=r[3];switch(t){case"sw":case"southwest":case"westsouth":case"bottomleft":return f.point([n,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return f.point([i,o]);case"nw":case"northwest":case"westnorth":case"topleft":return f.point([n,l]);case"ne":case"northeast":case"eastnorth":case"topright":return f.point([i,l]);case"center":return m.default(e);case void 0:case null:case"centroid":return v.default(e);default:throw new Error("invalid origin")}}(e,r),1===t||n||u.coordEach(e,(function(e){var n=b.default(r,e),o=y.default(r,e),i=n*t,l=p.getCoords(w.default(r,i,o));e[0]=l[0],e[1]=l[1],3===e.length&&(e[2]*=t)})),e}e.exports=O,e.exports.default=O},2418:(e,t,r)=>{"use strict";var n=r(1540),o=r(4102),i=r(611),l=r(6565),a=r(6082);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=s(l),u=s(a);function f(e,t,r,l){if(l=l||{},!o.isObject(l))throw new Error("options is invalid");var a=l.units,s=l.zTranslation,f=l.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");if(s&&"number"!=typeof s&&isNaN(s))throw new Error("zTranslation is not a number");if(s=void 0!==s?s:0,0===t&&0===s)return e;if(null==r||isNaN(r))throw new Error("direction is required");return t<0&&(t=-t,r+=180),!1!==f&&void 0!==f||(e=c.default(e)),n.coordEach(e,(function(e){var n=i.getCoords(u.default(e,t,r,{units:a}));e[0]=n[0],e[1]=n[1],s&&3===e.length&&(e[2]+=s)})),e}e.exports=f,e.exports.default=f},4686:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1013)),i=n(r(4170)),l=r(4102);t.default=function(e,t,r){void 0===r&&(r={});for(var n=[],a=t/o.default([e[0],e[1]],[e[2],e[1]],r)*(e[2]-e[0]),s=t/o.default([e[0],e[1]],[e[0],e[3]],r)*(e[3]-e[1]),c=0,u=e[0];u<=e[2];){for(var f=0,p=e[1];p<=e[3];){var h=null,g=null;c%2==0&&f%2==0?(h=l.polygon([[[u,p],[u,p+s],[u+a,p],[u,p]]],r.properties),g=l.polygon([[[u,p+s],[u+a,p+s],[u+a,p],[u,p+s]]],r.properties)):c%2==0&&f%2==1?(h=l.polygon([[[u,p],[u+a,p+s],[u+a,p],[u,p]]],r.properties),g=l.polygon([[[u,p],[u,p+s],[u+a,p+s],[u,p]]],r.properties)):f%2==0&&c%2==1?(h=l.polygon([[[u,p],[u,p+s],[u+a,p+s],[u,p]]],r.properties),g=l.polygon([[[u,p],[u+a,p+s],[u+a,p],[u,p]]],r.properties)):f%2==1&&c%2==1&&(h=l.polygon([[[u,p],[u,p+s],[u+a,p],[u,p]]],r.properties),g=l.polygon([[[u,p+s],[u+a,p+s],[u+a,p],[u,p+s]]],r.properties)),r.mask?(i.default(r.mask,h)&&n.push(h),i.default(r.mask,g)&&n.push(g)):(n.push(h),n.push(g)),p+=s,f++}c++,u+=a}return l.featureCollection(n)}},5608:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1540);t.default=function(e,t){void 0===t&&(t={});var r=t.precision,o=t.coordinates,i=t.mutate;if(r=null==r||isNaN(r)?6:r,o=null==o||isNaN(o)?3:o,!e)throw new Error("<geojson> is required");if("number"!=typeof r)throw new Error("<precision> must be a number");if("number"!=typeof o)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(e=JSON.parse(JSON.stringify(e)));var l=Math.pow(10,r);return n.coordEach(e,(function(e){!function(e,t,r){e.length>r&&e.splice(r,e.length);for(var n=0;n<e.length;n++)e[n]=Math.round(e[n]*t)/t}(e,l,o)})),e}},8347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7928),o=r(7382),i=r(187),l=r(8538),a=r(305),s=r(7970),c=r(7191),u=r(7478),f=r(2015),p=r(3503),h=r(9062),g=r(5077),m=r(265),v=r(9034),d=r(8230),y=r(5084),b=r(6338),w=r(8141),O=r(1013),x=r(3922),_=r(9705),z=r(5845),E=r(3652),j=r(8147),P=r(6379),S=r(3807),M=r(2059),T=r(3377),C=r(8829),A=r(1208),I=r(3737),k=r(1641),R=r(5771),L=r(1070),V=r(5913),B=r(91),H=r(4792),D=r(1378),Z=r(6813),F=r(5608),N=r(4288),U=r(3663),G=r(9632),q=r(4404),X=r(5422),$=r(4590),W=r(7477),Y=r(7272),K=r(7383),J=r(1933),Q=r(173),ee=r(273),te=r(1674),re=r(2054),ne=r(6213),oe=r(6082),ie=r(5215),le=r(1138),ae=r(7406),se=r(7460),ce=r(7517),ue=r(2418),fe=r(5668),pe=r(4312),he=r(5883),ge=r(4766),me=r(7656),ve=r(3809),de=r(7612),ye=r(2793),be=r(9482),we=r(2052),Oe=r(5745),xe=r(6565),_e=r(1435),ze=r(1495),Ee=r(6398),je=r(3892),Pe=r(4840),Se=r(3550),Me=r(2276),Te=r(1211),Ce=r(6320),Ae=r(2935),Ie=r(3955),ke=r(8517),Re=r(4978),Le=r(920),Ve=r(5366),Be=r(981),He=r(6295),De=r(3140),Ze=r(4102),Fe=r(611),Ne=r(1540),Ue=r(8727),Ge=r(5950),qe=r(1959),Xe=r(4170),$e=r(2407),We=r(5621),Ye=r(482),Ke=r(5434),Je=r(4686),Qe=r(5566);function et(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function tt(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var rt=et(n),nt=et(o),ot=et(i),it=et(l),lt=et(a),at=et(s),st=et(c),ct=et(u),ut=et(f),ft=et(p),pt=et(h),ht=et(g),gt=et(m),mt=et(v),vt=et(d),dt=et(y),yt=et(b),bt=et(w),wt=et(O),Ot=et(x),xt=et(_),_t=et(z),zt=et(E),Et=et(j),jt=et(P),Pt=et(S),St=et(M),Mt=et(T),Tt=et(C),Ct=et(A),At=et(I),It=et(k),kt=et(R),Rt=et(L),Lt=et(V),Vt=et(B),Bt=et(H),Ht=et(D),Dt=et(Z),Zt=et(F),Ft=et(N),Nt=et(U),Ut=et(G),Gt=et(q),qt=et(X),Xt=et($),$t=et(W),Wt=et(Y),Yt=et(K),Kt=et(J),Jt=et(Q),Qt=et(ee),er=et(te),tr=et(re),rr=et(ne),nr=et(oe),or=et(ie),ir=et(le),lr=et(ae),ar=et(se),sr=et(ce),cr=et(ue),ur=et(fe),fr=et(pe),pr=et(he),hr=et(ge),gr=et(me),mr=et(ve),vr=et(de),dr=et(ye),yr=et(be),br=et(we),wr=et(Oe),Or=et(xe),xr=et(_e),_r=et(ze),zr=et(Ee),Er=et(je),jr=et(Pe),Pr=et(Se),Sr=et(Me),Mr=et(Te),Tr=et(Ce),Cr=et(Ae),Ar=et(Ie),Ir=et(ke),kr=et(Re),Rr=et(Le),Lr=et(Ve),Vr=tt(Be),Br=tt(He),Hr=tt(De),Dr=tt(Ze),Zr=tt(Fe),Fr=tt(Ne),Nr=et(Ue),Ur=et(Ge),Gr=et(qe),qr=et(Xe),Xr=et($e),$r=et(We),Wr=et(Ye),Yr=et(Ke),Kr=et(Je),Jr=et(Qe);Object.keys(Be).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Be[e]}})})),Object.keys(He).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return He[e]}})})),Object.keys(De).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return De[e]}})})),Object.keys(Ze).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ze[e]}})})),Object.keys(Fe).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Fe[e]}})})),Object.keys(Ne).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ne[e]}})})),Object.defineProperty(t,"isolines",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(t,"convex",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(t,"pointsWithinPolygon",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(t,"within",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(t,"concave",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(t,"collect",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(t,"flip",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(t,"simplify",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(t,"bezier",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(t,"bezierSpline",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(t,"tag",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(t,"envelope",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(t,"square",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(t,"circle",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(t,"midpoint",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(t,"center",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(t,"centerOfMass",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(t,"centroid",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(t,"combine",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(t,"distance",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(t,"explode",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(t,"bbox",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(t,"tesselate",{enumerable:!0,get:function(){return _t.default}}),Object.defineProperty(t,"bboxPolygon",{enumerable:!0,get:function(){return zt.default}}),Object.defineProperty(t,"booleanPointInPolygon",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(t,"inside",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(t,"nearest",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(t,"nearestPoint",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(t,"nearestPointOnLine",{enumerable:!0,get:function(){return Pt.default}}),Object.defineProperty(t,"pointOnLine",{enumerable:!0,get:function(){return Pt.default}}),Object.defineProperty(t,"nearestPointToLine",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(t,"planepoint",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(t,"tin",{enumerable:!0,get:function(){return Tt.default}}),Object.defineProperty(t,"bearing",{enumerable:!0,get:function(){return Ct.default}}),Object.defineProperty(t,"destination",{enumerable:!0,get:function(){return At.default}}),Object.defineProperty(t,"kinks",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(t,"pointOnFeature",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(t,"pointOnSurface",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(t,"area",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(t,"along",{enumerable:!0,get:function(){return Lt.default}}),Object.defineProperty(t,"length",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(t,"lineDistance",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(t,"lineSlice",{enumerable:!0,get:function(){return Bt.default}}),Object.defineProperty(t,"lineSliceAlong",{enumerable:!0,get:function(){return Ht.default}}),Object.defineProperty(t,"pointGrid",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(t,"truncate",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return Ft.default}}),Object.defineProperty(t,"lineIntersect",{enumerable:!0,get:function(){return Nt.default}}),Object.defineProperty(t,"lineChunk",{enumerable:!0,get:function(){return Ut.default}}),Object.defineProperty(t,"unkinkPolygon",{enumerable:!0,get:function(){return Gt.default}}),Object.defineProperty(t,"greatCircle",{enumerable:!0,get:function(){return qt.default}}),Object.defineProperty(t,"lineSegment",{enumerable:!0,get:function(){return Xt.default}}),Object.defineProperty(t,"lineSplit",{enumerable:!0,get:function(){return $t.default}}),Object.defineProperty(t,"lineArc",{enumerable:!0,get:function(){return Wt.default}}),Object.defineProperty(t,"polygonToLine",{enumerable:!0,get:function(){return Yt.default}}),Object.defineProperty(t,"polygonToLineString",{enumerable:!0,get:function(){return Yt.default}}),Object.defineProperty(t,"lineStringToPolygon",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(t,"lineToPolygon",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(t,"bboxClip",{enumerable:!0,get:function(){return Jt.default}}),Object.defineProperty(t,"lineOverlap",{enumerable:!0,get:function(){return Qt.default}}),Object.defineProperty(t,"sector",{enumerable:!0,get:function(){return er.default}}),Object.defineProperty(t,"rhumbBearing",{enumerable:!0,get:function(){return tr.default}}),Object.defineProperty(t,"rhumbDistance",{enumerable:!0,get:function(){return rr.default}}),Object.defineProperty(t,"rhumbDestination",{enumerable:!0,get:function(){return nr.default}}),Object.defineProperty(t,"polygonTangents",{enumerable:!0,get:function(){return or.default}}),Object.defineProperty(t,"rewind",{enumerable:!0,get:function(){return ir.default}}),Object.defineProperty(t,"isobands",{enumerable:!0,get:function(){return lr.default}}),Object.defineProperty(t,"transformRotate",{enumerable:!0,get:function(){return ar.default}}),Object.defineProperty(t,"transformScale",{enumerable:!0,get:function(){return sr.default}}),Object.defineProperty(t,"transformTranslate",{enumerable:!0,get:function(){return cr.default}}),Object.defineProperty(t,"lineOffset",{enumerable:!0,get:function(){return ur.default}}),Object.defineProperty(t,"polygonize",{enumerable:!0,get:function(){return fr.default}}),Object.defineProperty(t,"booleanDisjoint",{enumerable:!0,get:function(){return pr.default}}),Object.defineProperty(t,"booleanContains",{enumerable:!0,get:function(){return hr.default}}),Object.defineProperty(t,"booleanCrosses",{enumerable:!0,get:function(){return gr.default}}),Object.defineProperty(t,"booleanClockwise",{enumerable:!0,get:function(){return mr.default}}),Object.defineProperty(t,"booleanOverlap",{enumerable:!0,get:function(){return vr.default}}),Object.defineProperty(t,"booleanPointOnLine",{enumerable:!0,get:function(){return dr.default}}),Object.defineProperty(t,"booleanEqual",{enumerable:!0,get:function(){return yr.default}}),Object.defineProperty(t,"booleanWithin",{enumerable:!0,get:function(){return br.default}}),Object.defineProperty(t,"booleanIntersects",{enumerable:!0,get:function(){return wr.default}}),Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return Or.default}}),Object.defineProperty(t,"cleanCoords",{enumerable:!0,get:function(){return xr.default}}),Object.defineProperty(t,"clustersDbscan",{enumerable:!0,get:function(){return _r.default}}),Object.defineProperty(t,"clustersKmeans",{enumerable:!0,get:function(){return zr.default}}),Object.defineProperty(t,"pointToLineDistance",{enumerable:!0,get:function(){return Er.default}}),Object.defineProperty(t,"booleanParallel",{enumerable:!0,get:function(){return jr.default}}),Object.defineProperty(t,"shortestPath",{enumerable:!0,get:function(){return Pr.default}}),Object.defineProperty(t,"voronoi",{enumerable:!0,get:function(){return Sr.default}}),Object.defineProperty(t,"ellipse",{enumerable:!0,get:function(){return Mr.default}}),Object.defineProperty(t,"centerMean",{enumerable:!0,get:function(){return Tr.default}}),Object.defineProperty(t,"centerMedian",{enumerable:!0,get:function(){return Cr.default}}),Object.defineProperty(t,"standardDeviationalEllipse",{enumerable:!0,get:function(){return Ar.default}}),Object.defineProperty(t,"angle",{enumerable:!0,get:function(){return Ir.default}}),Object.defineProperty(t,"polygonSmooth",{enumerable:!0,get:function(){return kr.default}}),Object.defineProperty(t,"moranIndex",{enumerable:!0,get:function(){return Rr.default}}),Object.defineProperty(t,"distanceWeight",{enumerable:!0,get:function(){return Lr.default}}),t.projection=Vr,t.random=Br,t.clusters=Hr,Object.defineProperty(t,"bearingToAngle",{enumerable:!0,get:function(){return Ze.bearingToAzimuth}}),Object.defineProperty(t,"convertDistance",{enumerable:!0,get:function(){return Ze.convertLength}}),Object.defineProperty(t,"degrees2radians",{enumerable:!0,get:function(){return Ze.degreesToRadians}}),Object.defineProperty(t,"distanceToDegrees",{enumerable:!0,get:function(){return Ze.lengthToDegrees}}),Object.defineProperty(t,"distanceToRadians",{enumerable:!0,get:function(){return Ze.lengthToRadians}}),t.helpers=Dr,Object.defineProperty(t,"radians2degrees",{enumerable:!0,get:function(){return Ze.radiansToDegrees}}),Object.defineProperty(t,"radiansToDistance",{enumerable:!0,get:function(){return Ze.radiansToLength}}),t.invariant=Zr,t.meta=Fr,Object.defineProperty(t,"difference",{enumerable:!0,get:function(){return Nr.default}}),Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return Ur.default}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return Gr.default}}),Object.defineProperty(t,"intersect",{enumerable:!0,get:function(){return qr.default}}),Object.defineProperty(t,"dissolve",{enumerable:!0,get:function(){return Xr.default}}),Object.defineProperty(t,"hexGrid",{enumerable:!0,get:function(){return $r.default}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return Wr.default}}),Object.defineProperty(t,"squareGrid",{enumerable:!0,get:function(){return Yr.default}}),Object.defineProperty(t,"triangleGrid",{enumerable:!0,get:function(){return Kr.default}}),Object.defineProperty(t,"interpolate",{enumerable:!0,get:function(){return Jr.default}})},1959:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(2676)),i=r(611),l=r(4102);t.default=function(e,t,r){void 0===r&&(r={});var n=i.getGeom(e),a=i.getGeom(t),s=o.default.union(n.coordinates,a.coordinates);return 0===s.length?null:1===s.length?l.polygon(s[0],r.properties):l.multiPolygon(s,r.properties)}},4404:(e,t,r)=>{"use strict";var n=r(1540),o=r(4102),i=r(4860),l=r(1070),a=r(8147);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=s(i),u=s(l),f=s(a);function p(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]instanceof Array&&t[r]instanceof Array){if(!p(e[r],t[r]))return!1}else if(e[r]!==t[r])return!1;return!0}function h(e){if("Feature"!=e.type)throw new Error("The input must a geojson object of type Feature");if(void 0===e.geometry||null==e.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=e.geometry.type)throw new Error("The input must be a geojson Polygon");for(var t=e.geometry.coordinates.length,r=[],n=0;n<t;n++){var i=e.geometry.coordinates[n];y(i[0],i[i.length-1])||i.push(i[0]),r.push.apply(r,i.slice(0,i.length-1))}if(!function(e){for(var t={},r=1,n=0,o=e.length;n<o;++n){if(Object.prototype.hasOwnProperty.call(t,e[n])){r=0;break}t[e[n]]=1}return r}(r))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var l=r.length,a=function(e,t,r){if("Polygon"!==e.geometry.type)throw new Error("The input feature must be a Polygon");void 0===r&&(r=1);var n=e.geometry.coordinates,o=[],i={};if(r){for(var l=[],a=0;a<n.length;a++)for(var s=0;s<n[a].length-1;s++)l.push(d(a,s));var u=c.default();u.load(l)}for(var f=0;f<n.length;f++)for(var h=0;h<n[f].length-1;h++)if(r)u.search(d(f,h)).forEach((function(e){var t=e.ring,r=e.edge;v(f,h,t,r)}));else for(var g=0;g<n.length;g++)for(var m=0;m<n[g].length-1;m++)v(f,h,g,m);return t||(o={type:"Feature",geometry:{type:"MultiPoint",coordinates:o}}),o;function v(e,r,l,a){var s,c,u=n[e][r],f=n[e][r+1],h=n[l][a],g=n[l][a+1],m=function(e,t,r,n){if(p(e,r)||p(e,n)||p(t,r)||p(n,r))return null;var o=e[0],i=e[1],l=t[0],a=t[1],s=r[0],c=r[1],u=n[0],f=n[1],h=(o-l)*(c-f)-(i-a)*(s-u);return 0===h?null:[((o*a-i*l)*(s-u)-(o-l)*(s*f-c*u))/h,((o*a-i*l)*(c-f)-(i-a)*(s*f-c*u))/h]}(u,f,h,g);if(null!==m&&(s=f[0]!==u[0]?(m[0]-u[0])/(f[0]-u[0]):(m[1]-u[1])/(f[1]-u[1]),c=g[0]!==h[0]?(m[0]-h[0])/(g[0]-h[0]):(m[1]-h[1])/(g[1]-h[1]),!(s>=1||s<=0||c>=1||c<=0))){var v=m,d=!i[v];d&&(i[v]=!0),t?o.push(t(m,e,r,u,f,s,l,a,h,g,c,d)):o.push(m)}}function d(e,t){var r,o,i,l,a=n[e][t],s=n[e][t+1];return a[0]<s[0]?(r=a[0],o=s[0]):(r=s[0],o=a[0]),a[1]<s[1]?(i=a[1],l=s[1]):(i=s[1],l=a[1]),{minX:r,minY:i,maxX:o,maxY:l,ring:e,edge:t}}}(e,(function(e,t,r,n,o,i,l,a,s,c,u,f){return[e,t,r,n,o,i,l,a,s,c,u,f]})),s=a.length;if(0==s){var h=[];for(n=0;n<t;n++)h.push(o.polygon([e.geometry.coordinates[n]],{parent:-1,winding:d(e.geometry.coordinates[n])}));var w=o.featureCollection(h);return X(),$(),w}var O=[],x=[];for(n=0;n<t;n++){O.push([]);for(var _=0;_<e.geometry.coordinates[n].length-1;_++)O[n].push([new g(e.geometry.coordinates[n][b(_+1,e.geometry.coordinates[n].length-1)],1,[n,_],[n,b(_+1,e.geometry.coordinates[n].length-1)],void 0)]),x.push(new m(e.geometry.coordinates[n][_],[n,b(_-1,e.geometry.coordinates[n].length-1)],[n,_],void 0,void 0,!1,!0))}for(n=0;n<s;n++)O[a[n][1]][a[n][2]].push(new g(a[n][0],a[n][5],[a[n][1],a[n][2]],[a[n][6],a[n][7]],void 0)),a[n][11]&&x.push(new m(a[n][0],[a[n][1],a[n][2]],[a[n][6],a[n][7]],void 0,void 0,!0,!0));var z=x.length;for(n=0;n<O.length;n++)for(_=0;_<O[n].length;_++)O[n][_].sort((function(e,t){return e.param<t.param?-1:1}));var E=[];for(n=0;n<z;n++)E.push({minX:x[n].coord[0],minY:x[n].coord[1],maxX:x[n].coord[0],maxY:x[n].coord[1],index:n});var j=c.default();for(j.load(E),n=0;n<O.length;n++)for(_=0;_<O[n].length;_++)for(var P=0;P<O[n][_].length;P++){M=P==O[n][_].length-1?O[n][b(_+1,e.geometry.coordinates[n].length-1)][0].coord:O[n][_][P+1].coord;var S=j.search({minX:M[0],minY:M[1],maxX:M[0],maxY:M[1]})[0];O[n][_][P].nxtIsectAlongEdgeIn=S.index}for(n=0;n<O.length;n++)for(_=0;_<O[n].length;_++)for(P=0;P<O[n][_].length;P++){var M=O[n][_][P].coord,T=(S=j.search({minX:M[0],minY:M[1],maxX:M[0],maxY:M[1]})[0]).index;T<l?x[T].nxtIsectAlongRingAndEdge2=O[n][_][P].nxtIsectAlongEdgeIn:y(x[T].ringAndEdge1,O[n][_][P].ringAndEdgeIn)?x[T].nxtIsectAlongRingAndEdge1=O[n][_][P].nxtIsectAlongEdgeIn:x[T].nxtIsectAlongRingAndEdge2=O[n][_][P].nxtIsectAlongEdgeIn}var C=[];for(n=0,_=0;_<t;_++){var A=n;for(P=0;P<e.geometry.coordinates[_].length-1;P++)x[n].coord[0]<x[A].coord[0]&&(A=n),n++;var I=x[A].nxtIsectAlongRingAndEdge2;for(P=0;P<x.length;P++)if(x[P].nxtIsectAlongRingAndEdge1==A||x[P].nxtIsectAlongRingAndEdge2==A){var k=P;break}var R=v([x[k].coord,x[A].coord,x[I].coord],!0)?1:-1;C.push({isect:A,parent:-1,winding:R})}for(C.sort((function(e,t){return x[e.isect].coord>x[t.isect].coord?-1:1})),h=[];C.length>0;){var L=C.pop(),V=L.isect,B=L.parent,H=L.winding,D=h.length,Z=[x[V].coord],F=V;if(x[V].ringAndEdge1Walkable)var N=x[V].ringAndEdge1,U=x[V].nxtIsectAlongRingAndEdge1;else N=x[V].ringAndEdge2,U=x[V].nxtIsectAlongRingAndEdge2;for(;!y(x[V].coord,x[U].coord);){Z.push(x[U].coord);var G=void 0;for(n=0;n<C.length;n++)if(C[n].isect==U){G=n;break}if(null!=G&&C.splice(G,1),y(N,x[U].ringAndEdge1)){if(N=x[U].ringAndEdge2,x[U].ringAndEdge2Walkable=!1,x[U].ringAndEdge1Walkable){var q={isect:U};v([x[F].coord,x[U].coord,x[x[U].nxtIsectAlongRingAndEdge2].coord],1==H)?(q.parent=B,q.winding=-H):(q.parent=D,q.winding=H),C.push(q)}F=U,U=x[U].nxtIsectAlongRingAndEdge2}else N=x[U].ringAndEdge1,x[U].ringAndEdge1Walkable=!1,x[U].ringAndEdge2Walkable&&(q={isect:U},v([x[F].coord,x[U].coord,x[x[U].nxtIsectAlongRingAndEdge1].coord],1==H)?(q.parent=B,q.winding=-H):(q.parent=D,q.winding=H),C.push(q)),F=U,U=x[U].nxtIsectAlongRingAndEdge1}Z.push(x[U].coord),h.push(o.polygon([Z],{index:D,parent:B,winding:H,netWinding:void 0}))}function X(){for(var e=[],t=0;t<w.features.length;t++)-1==w.features[t].properties.parent&&e.push(t);if(e.length>1)for(t=0;t<e.length;t++){for(var r=-1,n=0;n<w.features.length;n++)e[t]!=n&&f.default(w.features[e[t]].geometry.coordinates[0][0],w.features[n],{ignoreBoundary:!0})&&u.default(w.features[n])<1/0&&(r=n);w.features[e[t]].properties.parent=r}}function $(){for(var e=0;e<w.features.length;e++)if(-1==w.features[e].properties.parent){var t=w.features[e].properties.winding;w.features[e].properties.netWinding=t,W(e,t)}}function W(e,t){for(var r=0;r<w.features.length;r++)if(w.features[r].properties.parent==e){var n=t+w.features[r].properties.winding;w.features[r].properties.netWinding=n,W(r,n)}}return w=o.featureCollection(h),X(),$(),w}var g=function(e,t,r,n,o){this.coord=e,this.param=t,this.ringAndEdgeIn=r,this.ringAndEdgeOut=n,this.nxtIsectAlongEdgeIn=o},m=function(e,t,r,n,o,i,l){this.coord=e,this.ringAndEdge1=t,this.ringAndEdge2=r,this.nxtIsectAlongRingAndEdge1=n,this.nxtIsectAlongRingAndEdge2=o,this.ringAndEdge1Walkable=i,this.ringAndEdge2Walkable=l};function v(e,t){if(void 0===t&&(t=!0),3!=e.length)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==t}function d(e){for(var t=0,r=0;r<e.length-1;r++)e[r][0]<e[t][0]&&(t=r);if(v([e[b(t-1,e.length-1)],e[t],e[b(t+1,e.length-1)]],!0))var n=1;else n=-1;return n}function y(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]instanceof Array&&t[r]instanceof Array){if(!y(e[r],t[r]))return!1}else if(e[r]!=t[r])return!1;return!0}function b(e,t){return(e%t+t)%t}function w(e){var t=[];return n.flattenEach(e,(function(e){"Polygon"===e.geometry.type&&n.featureEach(h(e),(function(r){t.push(o.polygon(r.geometry.coordinates,e.properties))}))})),o.featureCollection(t)}e.exports=w,e.exports.default=w},9538:function(e){e.exports=function(){"use strict";function e(r,n,o,i,l){for(;i>o;){if(i-o>600){var a=i-o+1,s=n-o+1,c=Math.log(a),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(a-u)/a)*(s-a/2<0?-1:1);e(r,n,Math.max(o,Math.floor(n-s*u/a+f)),Math.min(i,Math.floor(n+(a-s)*u/a+f)),l)}var p=r[n],h=o,g=i;for(t(r,o,n),l(r[i],p)>0&&t(r,o,i);h<g;){for(t(r,h,g),h++,g--;l(r[h],p)<0;)h++;for(;l(r[g],p)>0;)g--}0===l(r[o],p)?t(r,o,g):t(r,++g,i),g<=n&&(o=g+1),n<=g&&(i=g-1)}}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}return function(t,n,o,i,l){e(t,n,o||0,i||t.length-1,l||r)}}()},4860:(e,t,r)=>{"use strict";e.exports=o,e.exports.default=o;var n=r(9538);function o(e,t){if(!(this instanceof o))return new o(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function i(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function l(e,t){a(e,0,e.children.length,t,e)}function a(e,t,r,n,o){o||(o=m(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,l=t;l<r;l++)i=e.children[l],s(o,e.leaf?n(i):i);return o}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function f(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function p(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function g(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(e,t,r,o,i){for(var l,a=[t,r];a.length;)(r=a.pop())-(t=a.pop())<=o||(l=t+Math.ceil((r-t)/o/2)*o,n(e,l,t,r,i),a.push(t,l,l,r))}o.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!g(e,t))return r;for(var o,i,l,a,s=[];t;){for(o=0,i=t.children.length;o<i;o++)l=t.children[o],g(e,a=t.leaf?n(l):l)&&(t.leaf?r.push(l):h(e,a)?this._all(l,r):s.push(l));t=s.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!g(e,t))return!1;for(var n,o,i,l,a=[];t;){for(n=0,o=t.children.length;n<o;n++)if(i=t.children[n],g(e,l=t.leaf?r(i):i)){if(t.leaf||h(e,l))return!0;a.push(i)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var o=this.data;this.data=n,n=o}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},ins
